<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POV Reflection Cards - Interactive Deck</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
    box-sizing: border-box;
  margin: 0;
  padding: 0;
  width: 100%;
  min-height: 100%;
  display: block;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f8f9fa;
}


    html, body {
      height: 100%;
    }

    .app-wrapper {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* INTRO SCREEN */
    .intro-screen {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 4%;
      background: linear-gradient(135deg, #f5f1e8 0%, #ede5d8 50%, #e8dcc8 100%);
      overflow-y: auto;
      position: relative;
    }

    /* Large Decorative Delta Symbols */
    .delta-pattern {
      position: absolute;
      font-size: 120px;
      font-weight: 100;
      color: #D4A030;
      opacity: 0.06;
      pointer-events: none;
      z-index: 0;
    }

    .delta-pattern-1 {
      top: 5%;
      left: 3%;
      transform: rotate(-15deg);
    }

    .delta-pattern-2 {
      top: 30%;
      right: 2%;
      transform: rotate(20deg);
      font-size: 100px;
    }

    .delta-pattern-3 {
      bottom: 15%;
      left: 5%;
      transform: rotate(-25deg);
      font-size: 90px;
    }

    .delta-pattern-4 {
      bottom: 8%;
      right: 4%;
      transform: rotate(15deg);
      font-size: 110px;
    }

    /* Preview Cards Around Container */
    .preview-cards {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 0;
    }

    .preview-card {
      position: absolute;
      width: 80px;
      height: 112px;
      border-radius: 8px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.25;
    }

    .preview-card svg {
      width: 28px;
      height: 28px;
      stroke: #ffffff;
      stroke-width: 2.5;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .preview-card-p {
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      top: 12%;
      left: -40px;
      transform: rotate(-8deg);
      animation: float-card-p 6s ease-in-out infinite;
    }

    .preview-card-o {
      background: linear-gradient(135deg, #2d2d2d 0%, #0a0a0a 100%);
      top: 25%;
      right: -35px;
      transform: rotate(12deg);
      animation: float-card-o 6s ease-in-out infinite 1.5s;
    }

    .preview-card-v {
      background: linear-gradient(135deg, #8B95A8 0%, #7B8594 100%);
      bottom: 25%;
      left: -38px;
      transform: rotate(-12deg);
      animation: float-card-v 6s ease-in-out infinite 3s;
    }

    .preview-card-wc {
      background: linear-gradient(135deg, #E8B339 0%, #8B6914 50%, #2d2d2d 100%);
      bottom: 12%;
      right: -42px;
      transform: rotate(10deg);
      animation: float-card-wc 6s ease-in-out infinite 4.5s;
    }

    @keyframes float-card-p {
      0%, 100% { transform: translateY(0px) rotate(-8deg); }
      50% { transform: translateY(-12px) rotate(-8deg); }
    }

    @keyframes float-card-o {
      0%, 100% { transform: translateY(0px) rotate(12deg); }
      50% { transform: translateY(-12px) rotate(12deg); }
    }

    @keyframes float-card-v {
      0%, 100% { transform: translateY(0px) rotate(-12deg); }
      50% { transform: translateY(-12px) rotate(-12deg); }
    }

    @keyframes float-card-wc {
      0%, 100% { transform: translateY(0px) rotate(10deg); }
      50% { transform: translateY(-12px) rotate(10deg); }
    }

    .intro-screen.hidden {
      display: none !important;
    }

    .intro-container {
      max-width: 680px;
      width: 100%;
      background: #ffffff;
      border-radius: 24px;
      padding: 56px 48px;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
      position: relative;
      z-index: 1;
    }

    .delta-symbol {
      position: absolute;
      top: 24px;
      right: 24px;
      font-size: 32px;
      color: #D4A030;
      opacity: 0.2;
      font-weight: 300;
    }

    .logo-container {
      width: 100%;
      display: flex;
      justify-content: center;
      margin-bottom: 24px;
    }

    .logo-image {
      max-width: 120px;
      max-height: 80px;
      object-fit: contain;
    }

    .intro-title {
      font-size: 42px;
      font-weight: 800;
      color: #2c2416;
      margin: 0 0 12px 0;
      text-align: center;
      letter-spacing: -0.5px;
    }

    .intro-subtitle {
      font-size: 17px;
      font-weight: 500;
      color: #6b5d4f;
      margin: 0 0 36px 0;
      text-align: center;
      line-height: 1.6;
    }

    .intro-body {
      font-size: 16px;
      color: #4b5563;
      line-height: 1.75;
      margin: 0 0 40px 0;
      text-align: left;
    }

    .how-to-section {
      margin-top: 40px;
      padding-top: 40px;
      border-top: 2px solid #f3f4f6;
    }

    .how-to-title {
      font-size: 22px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 28px 0;
      text-align: center;
    }

    .steps-container {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .step-item {
      display: flex;
      align-items: flex-start;
      gap: 20px;
    }

    .step-icon {
      width: 52px;
      height: 52px;
      min-width: 52px;
      background: linear-gradient(135deg, #E8B339 0%, #D4A030 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(212, 160, 48, 0.25);
    }

    .step-icon svg {
      width: 24px;
      height: 24px;
      stroke: #ffffff;
      stroke-width: 2.5;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .step-content {
      flex: 1;
      padding-top: 4px;
    }

    .step-title {
      font-size: 18px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 6px 0;
    }

    .step-description {
      font-size: 15px;
      color: #6b7280;
      margin: 0;
      line-height: 1.6;
    }

    .start-button {
      margin-top: 44px;
      width: 100%;
      padding: 18px 32px;
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      color: #ffffff;
      border: none;
      border-radius: 12px;
      font-size: 17px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(232, 179, 57, 0.3);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .start-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 28px rgba(232, 179, 57, 0.4);
    }

    .button-group {
      display: flex;
      gap: 12px;
      margin-top: 44px;
      width: 100%;
    }

    .button-group .start-button {
      flex: 1;
      margin-top: 0;
    }

    .self-check-button {
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      box-shadow: 0 6px 20px rgba(232, 179, 57, 0.3);
      border: 3px solid #D4A030;
      position: relative;
    }

    .self-check-button::before {
      content: '';
      position: absolute;
      top: -6px;
      left: -6px;
      right: -6px;
      bottom: -6px;
      background: linear-gradient(135deg, #F5D17A 0%, #E8B339 50%, #C89020 100%);
      border-radius: 14px;
      z-index: -1;
      opacity: 0.6;
    }

    .self-check-button:hover {
      box-shadow: 0 10px 28px rgba(232, 179, 57, 0.4);
      border-color: #E8B339;
    }

    /* SELF-CHECK SCREEN */
    .self-check-screen {
      width: 100%;
      height: 100%;
      display: none;
      flex-direction: column;
      background: linear-gradient(135deg, #f5f1e8 0%, #e8dcc8 50%, #d4c4a8 100%);
      overflow: hidden;
    }

    .self-check-screen.active {
      display: flex;
    }

    .self-check-header {
      padding: 24px 32px;
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .self-check-header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .self-check-title-group h2 {
      font-size: 22px;
      font-weight: 700;
      color: #ffffff;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .self-check-title-group p {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      margin: 2px 0 0 0;
    }

    .progress-indicator {
      background: rgba(255, 255, 255, 0.2);
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      color: #ffffff;
    }


    .self-check-content {
      flex: 1;
      overflow-y: auto;
      padding: 32px 24px;
      background: linear-gradient(135deg, #f5f1e8 0%, #ede5d8 50%, #e8dcc8 100%);
    }

    .self-check-container {
      max-width: 900px;
      margin: 0 auto;
    }

    .intro-message {
      background: #ffffff;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 32px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .intro-message h3 {
      font-size: 24px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 12px 0;
    }

    .intro-message p {
      font-size: 15px;
      color: #4b5563;
      line-height: 1.7;
      margin: 0 0 16px 0;
    }

    .intro-message p:last-child {
      margin-bottom: 0;
    }

    .name-input-section {
      background: #ffffff;
      border-radius: 16px;
      padding: 24px 32px;
      margin-bottom: 32px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .name-input-section label {
      display: block;
      font-size: 16px;
      font-weight: 700;
      color: #2c2416;
      margin-bottom: 8px;
    }

    .name-input-section input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 15px;
      font-family: inherit;
      transition: border-color 0.2s ease;
    }

    .name-input-section input:focus {
      outline: none;
      border-color: #E8B339;
    }
    
    #nameCheck {
    transition: opacity 0.2s ease;
    }

    .rating-scale-legend {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 32px;
      border: 2px solid #E8B339;
    }

    .rating-scale-legend h4 {
      font-size: 16px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 16px 0;
    }

    .scale-items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
    }

    .scale-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .scale-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .scale-dot-1 { background: #ef4444; }
    .scale-dot-2 { background: #f59e0b; }
    .scale-dot-3 { background: #eab308; }
    .scale-dot-4 { background: #22c55e; }

    .scale-item span {
      font-size: 13px;
      color: #4b5563;
      font-weight: 500;
    }

    .delta-category-section {
      margin-bottom: 32px;
    }

    .delta-category-header {
      background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
      padding: 20px 24px;
      border-radius: 12px;
      margin-bottom: 16px;
    }

    .delta-category-header h3 {
      font-size: 20px;
      font-weight: 700;
      color: #ffffff;
      margin: 0 0 4px 0;
    }

    .delta-category-header p {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
    }

    .subcategory-section {
      margin-bottom: 24px;
    }

    .subcategory-header {
      background: #f5f1e8;
      padding: 14px 20px;
      border-radius: 8px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .subcategory-header:hover {
      background: #ede5d8;
    }

    .subcategory-header h4 {
      font-size: 16px;
      font-weight: 700;
      color: #2c2416;
      margin: 0;
    }

    .expand-icon {
      width: 20px;
      height: 20px;
      color: #6b7280;
      transition: transform 0.2s ease;
    }

    .expand-icon.expanded {
      transform: rotate(180deg);
    }

    .competency-list {
      display: none;
      flex-direction: column;
      gap: 12px;
      padding-left: 8px;
    }

    .competency-list.expanded {
      display: flex;
    }

    .assessment-card {
      background: #ffffff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      transition: all 0.2s ease;
    }

    .assessment-card:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .card-info {
      flex: 1;
    }

    .card-info h5 {
      font-size: 15px;
      font-weight: 700;
      color: #1e1b4b;
      margin: 0 0 6px 0;
    }

    .card-info p {
      font-size: 14px;
      color: #6b7280;
      line-height: 1.5;
      margin: 0;
    }

    .rating-buttons {
      display: flex;
      gap: 8px;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .rating-btn {
      flex: 1;
      min-width: 85px;
      padding: 10px 12px;
      border: 2px solid #e5e7eb;
      background: #ffffff;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      color: #6b7280;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
    }

    .rating-btn:hover {
      border-color: #d1d5db;
      background: #f9fafb;
    }

    .rating-btn.selected {
      background: #E8B339;
      color: #ffffff;
      border-color: #E8B339;
    }

    .rating-btn-1.selected { background: #ef4444; border-color: #ef4444; }
    .rating-btn-2.selected { background: #f59e0b; border-color: #f59e0b; }
    .rating-btn-3.selected { background: #E8B339; border-color: #E8B339; }
    .rating-btn-4.selected { background: #22c55e; border-color: #22c55e; }

    .complete-section {
      position: sticky;
      bottom: 0;
      background: linear-gradient(to top, #e8dcc8 70%, transparent);
      padding: 24px 0 0 0;
      margin-top: 32px;
    }

    .complete-button {
      width: 100%;
      padding: 18px 32px;
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      color: #ffffff;
      border: none;
      border-radius: 12px;
      font-size: 17px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(34, 197, 94, 0.3);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .complete-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 28px rgba(34, 197, 94, 0.4);
    }

    .complete-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* RESULTS SCREEN */
    .results-screen {
      width: 100%;
      height: 100%;
      display: none;
      flex-direction: column;
      background: linear-gradient(135deg, #f5f1e8 0%, #ede5d8 50%, #e8dcc8 100%);
      overflow: hidden;
    }

    .results-screen.active {
      display: flex;
    }

    .results-header {
      padding: 32px 32px 24px 32px;
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .results-header h2 {
      font-size: 28px;
      font-weight: 700;
      color: #ffffff;
      margin: 0 0 8px 0;
    }

    .results-header p {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
    }

    .results-content {
      flex: 1;
      overflow-y: auto;
      padding: 32px 24px;
    }

    .results-container {
      max-width: 900px;
      margin: 0 auto;
    }

    .profile-summary {
      background: #ffffff;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .profile-summary h3 {
      font-size: 24px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 8px 0;
    }

    .summary-subtitle {
      font-size: 14px;
      color: #6b7280;
      margin: 0 0 32px 0;
    }

    .domain-scores {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .domain-score-item {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .domain-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .domain-name {
      font-size: 18px;
      font-weight: 700;
      color: #2c2416;
    }

    .domain-score {
      font-size: 20px;
      font-weight: 700;
      color: #E8B339;
    }

    .score-bar-container {
      width: 100%;
      height: 12px;
      background: #f3f4f6;
      border-radius: 6px;
      overflow: hidden;
    }

    .score-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #E8B339 0%, #D4A030 100%);
      border-radius: 6px;
      transition: width 0.8s ease;
    }

    .insight-section {
      background: #ffffff;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .insight-section h4 {
      font-size: 20px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 16px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .insight-section p {
      font-size: 15px;
      color: #4b5563;
      line-height: 1.7;
      margin: 0 0 12px 0;
    }

    .insight-section p:last-child {
      margin-bottom: 0;
    }

    .domain-interpretation {
      background: #f9fafb;
      border-left: 4px solid #E8B339;
      padding: 16px 20px;
      margin-bottom: 16px;
      border-radius: 8px;
    }

    .domain-interpretation h5 {
      font-size: 16px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 8px 0;
    }

    .domain-interpretation p {
      font-size: 14px;
      color: #6b7280;
      line-height: 1.6;
      margin: 0;
    }

    .suggestions-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .suggestions-list li {
      background: #f9fafb;
      padding: 14px 18px;
      border-radius: 8px;
      font-size: 14px;
      color: #4b5563;
      line-height: 1.6;
      border-left: 3px solid #E8B339;
    }

    .reflection-prompts {
      background: #ffffff;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      border: 2px solid #E8B339;
    }

    .reflection-prompts h4 {
      font-size: 20px;
      font-weight: 700;
      color: #2c2416;
      margin: 0 0 16px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .prompt-item {
      background: #f5f1e8;
      padding: 16px 20px;
      border-radius: 8px;
      margin-bottom: 12px;
      font-size: 15px;
      color: #4b5563;
      line-height: 1.6;
      font-style: italic;
    }

    .prompt-item:last-child {
      margin-bottom: 0;
    }

    .results-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .action-btn {
      width: 100%;
      padding: 16px 24px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .primary-action {
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      color: #ffffff;
      box-shadow: 0 4px 12px rgba(232, 179, 57, 0.3);
    }

    .primary-action:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(232, 179, 57, 0.4);
    }

    .secondary-action {
      background: #ffffff;
      color: #2c2416;
      border: 2px solid #E8B339;
    }

    .secondary-action:hover {
      background: #f5f1e8;
      transform: translateY(-2px);
    }

    /* DECK SELECTION SCREEN */
    .deck-selection {
      width: 100%;
      height: 100%;
      display: none !important;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 4%;
      background: linear-gradient(135deg, #f5f1e8 0%, #e8dcc8 50%, #d4c4a8 100%);
      position: relative;
    }

    .intro-back-button {
      position: absolute;
      top: 24px;
      left: 24px;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #D4A030;
      color: #2c2416;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 10;
    }

    .intro-back-button:hover {
      background: #ffffff;
      transform: translateX(-3px);
      box-shadow: 0 4px 12px rgba(212, 160, 48, 0.3);
    }

    .deck-selection.active {
      display: flex !important;
    }

    .deck-selection.hidden {
      display: none !important;
    }

    .selection-title {
      font-size: 32px;
      font-weight: 800;
      color: #2c2416;
      margin: 0 0 15px 0;
      text-align: center;
      text-shadow: 0 2px 4px rgba(255, 255, 255, 0.3);
    }

    .selection-subtitle {
      font-size: 16px;
      font-weight: 400;
      color: #5a4a3a;
      margin: 0 0 50px 0;
      text-align: center;
      max-width: 500px;
    }

    .selection-logo {
  width: 100%;
  display: flex;
  justify-content: center;
  margin-bottom: 16px;
}

.selection-logo-img {
  width: 400px;     /* forces actual displayed size */
  height: auto;
  display: block;
  margin: 0 auto 16px auto;
}
    .deck-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      width: 100%;
      max-width: 1200px;
    }

    .deck-option {
      border-radius: 20px;
      padding: 32px 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      text-align: center;
      border: 3px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .deck-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      opacity: 0.1;
      z-index: 0;
    }

    .deck-option > * {
      position: relative;
      z-index: 1;
    }

    .deck-option:hover {
      transform: translateY(-8px);
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.25);
      border-color: rgba(255, 255, 255, 0.5);
    }

    /* Deck-specific selection colors */
    .deck-option-p {
      background: linear-gradient(135deg, #f6e5ba 0%, #e8d089 35%, #d4a747 70%, #c89020 100%);
      box-shadow: 0 8px 24px rgba(212, 160, 48, 0.25);
    }

    .deck-option-o {
      background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 50%, #0f0f0f 100%);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    }

    .deck-option-o .deck-name,
    .deck-option-o .deck-description,
    .deck-option-o .deck-count {
      color: #ffffff !important;
    }

    .deck-option-v {
      background: linear-gradient(135deg, #d4dce6 0%, #b8c4d4 35%, #9ba8bc 70%, #7b8594 100%);
      box-shadow: 0 8px 24px rgba(139, 149, 168, 0.25);
    }

    .deck-option-wc {
      background: linear-gradient(135deg, #f6e5ba 0%, #d4a747 25%, #a87d1f 50%, #6b4d12 75%, #1f1f1f 100%);
      box-shadow: 0 8px 24px rgba(139, 105, 20, 0.3);
    }

    .deck-option-wc .deck-name,
    .deck-option-wc .deck-description,
    .deck-option-wc .deck-count {
      color: #ffffff !important;
    }

    .deck-icon {
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .deck-name {
      font-size: 24px;
      font-weight: 700;
      margin: 0 0 8px 0;
      color: #1e1b4b;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .deck-description {
      font-size: 14px;
      color: #4b5563;
      margin: 0 0 12px 0;
      line-height: 1.5;
    }

    .deck-count {
      font-size: 12px;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* DRAW INTERFACE */
    .draw-interface {
      width: 100%;
      height: 100%;
      display: none !important;
      flex-direction: column;
      background: #f8f9fa;
    }

    .draw-interface.active {
      display: flex !important;
    }

    .draw-header {
      padding: 24px 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transition: background 0.3s ease;
    }

    .draw-header.deck-p {
      background: linear-gradient(135deg, #E8B339 0%, #D4A030 50%, #C89020 100%);
    }

    .draw-header.deck-o {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #0a0a0a 100%);
    }

    .draw-header.deck-v {
      background: linear-gradient(135deg, #A8B0C0 0%, #8B95A8 50%, #7B8594 100%);
    }

    .draw-header.deck-wc {
      background: linear-gradient(135deg, #E8B339 0%, #8B6914 35%, #2d2d2d 70%, #0a0a0a 100%);
    }

    .draw-header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .back-button {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: #ffffff;
      font-size: 24px;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .back-button:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .current-deck-info {
      display: flex;
      flex-direction: column;
    }

    .current-deck-name {
      font-size: 22px;
      font-weight: 700;
      color: #ffffff;
      margin: 0;
    }

    .current-deck-subtitle {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      margin: 2px 0 0 0;
    }

    .cards-remaining {
      background: rgba(255, 255, 255, 0.2);
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      color: #ffffff;
    }

    .draw-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 3% 4% 4% 4%;
      padding-top: 2%;
      overflow-y: auto;
    }

    /* CARD STATES */
    .card-display {
      perspective: 1000px;
      width: 100%;
      max-width: 360px;
      aspect-ratio: 3/4;
      margin-bottom: 20px;
    }

    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .card-inner.flipped {
      transform: rotateY(180deg);
    }

    .card-inner.shuffling {
      animation: shuffle 0.6s ease-in-out;
    }

    @keyframes shuffle {
      0% {
        transform: translateX(0) rotate(0deg) scale(1);
        opacity: 1;
      }
      25% {
        transform: translateX(-80px) rotate(-12deg) scale(0.95);
        opacity: 0.6;
      }
      50% {
        transform: translateX(80px) rotate(12deg) scale(0.9);
        opacity: 0.3;
      }
      75% {
        transform: translateX(-40px) rotate(-6deg) scale(0.95);
        opacity: 0.6;
      }
      100% {
        transform: translateX(0) rotate(0deg) scale(1);
        opacity: 1;
      }
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 20px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);

      display: flex;
      flex-direction: column;
      padding: 18px 16px;
      box-sizing: border-box;
}
    .card-front {
      background: linear-gradient(135deg, #E8B339 0%, #D4A030 50%, #C89020 100%);
    }

    .card-back {
  background: linear-gradient(135deg, #F5D17A 0%, #E8C45F 50%, #D4A030 100%);
  transform: rotateY(180deg);
  display: flex;
  flex-direction: column;
  padding: 12px 10px;       /* less padding = more room for content */
  box-sizing: border-box;
}

    /* Reuse existing card styles */
    .light-accent {
      position: absolute;
      border-radius: 50%;
      opacity: 0.3;
      filter: blur(40px);
      pointer-events: none;
      animation: float 6s ease-in-out infinite;
    }

    .light-accent-1 {
      width: 140px;
      height: 140px;
      top: 5%;
      left: -5%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
    }

    .light-accent-2 {
      width: 110px;
      height: 110px;
      top: 55%;
      right: -3%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
      animation-delay: 2s;
    }

    .light-accent-3 {
      width: 90px;
      height: 90px;
      bottom: 20%;
      left: 15%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.25) 0%, transparent 70%);
      animation-delay: 4s;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) translateX(0px); }
      33% { transform: translateY(-15px) translateX(8px); }
      66% { transform: translateY(8px) translateX(-8px); }
    }

    .number-badge {
      position: absolute;
      top: 24px;
      right: 24px;
      width: 50px;
      height: 50px;
      background: #ffffff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
      z-index: 3;
    }

    .number-text {
      font-size: 19px;
      font-weight: 800;
      color: #1e1b4b;
      margin: 0;
    }

    .center-glow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 160px;
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
    }

    .glow-ring {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
      animation: pulse 3s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.08); opacity: 0.7; }
    }

    .center-circle {
      position: relative;
      width: 125px;
      height: 125px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 35px rgba(255, 255, 255, 0.25);
    }

    .icon-svg {
      width: 58px;
      height: 58px;
      stroke: #ffffff;
      stroke-width: 2.5;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
      filter: drop-shadow(0 2px 10px rgba(255, 255, 255, 0.3));
    }

    .front-deck-label {
      position: absolute;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      font-weight: 700;
      color: #ffffff;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin: 0;
      text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      z-index: 2;
      white-space: nowrap;
    }

    .top-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 12px;
      z-index: 1;
    }

    .icon-circle {
      width: 36px;
      height: 36px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border-radius: 50%;
      border: 1.5px solid rgba(255, 255, 255, 0.35);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 6px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .icon-svg-small {
      width: 18px;
      height: 18px;
      stroke: #ffffff;
      stroke-width: 2.5;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .back-deck-label {
      font-size: 8px;
      font-weight: 700;
      color: #ffffff;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin: 0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
      white-space: nowrap;
    }

.section-heading {
  font-size: 12px;
  font-weight: 700;
  color: #1e1b4b;
  margin: 12px 0 4px 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.card-bullet-list {
  margin: 0 0 4px 0;
  padding-left: 18px;
  font-size: 12px;
  color: #4b5563;
  line-height: 1.5;
}

.card-bullet-list li {
  margin-bottom: 4px;
}

    .content-panel {
      background: #ffffff;
      border-radius: 14px;
      padding: 20px 16px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      flex: 1;
      display: flex;
      flex-direction: column;
      z-index: 1;
      min-height: 0;
      overflow-y: auto;
    }

    .panel-title {
      font-size: 16px;
      font-weight: 700;
      color: #1e1b4b;
      margin: 0 0 10px 0;
      text-align: left;
      line-height: 1.3;
    }

    .reflection-prompt {
      font-size: 13px;
      font-weight: 400;
      color: #4b5563;
      line-height: 1.6;
      margin: 0 0 auto 0;
      text-align: left;
      flex: 1;
    }

    .skill-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid #e5e7eb;
    }

    .skill-tag {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      padding: 4px 8px;
      background: #f3f4f6;
      border-radius: 12px;
      font-size: 8px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      color: #D4A030;
    }

    .delta-category {
      font-size: 8px;
      font-weight: 600;
      color: #9ca3af;
      margin: 6px 0 0 0;
      text-align: left;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    /* ACTION BUTTONS */
    .action-buttons {
      display: flex;
      gap: 16px;
      margin-top: 20px;
      width: 100%;
      max-width: 340px;
    }

    .action-button {
      flex: 1;
      padding: 16px 24px;
      border: none;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .primary-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #ffffff;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .primary-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.5);
    }

    .primary-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .secondary-button {
      background: #ffffff;
      color: #667eea;
      border: 2px solid #667eea;
    }

    .secondary-button:hover {
      background: #f8f9fa;
      transform: translateY(-2px);
    }

    /* Deck-specific button colors */
    .deck-p .primary-button {
      background: linear-gradient(135deg, #E8B339 0%, #C89020 100%);
      box-shadow: 0 4px 12px rgba(232, 179, 57, 0.4);
    }

    .deck-p .primary-button:hover {
      box-shadow: 0 8px 20px rgba(232, 179, 57, 0.5);
    }

    .deck-p .secondary-button {
      background: #ffffff;
      color: #D4A030;
      border: 2px solid #D4A030;
    }

    .deck-o .primary-button {
      background: linear-gradient(135deg, #2d2d2d 0%, #0a0a0a 100%);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }

    .deck-o .primary-button:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
    }

    .deck-o .secondary-button {
      background: #ffffff;
      color: #1a1a1a;
      border: 2px solid #1a1a1a;
    }

    .deck-v .primary-button {
      background: linear-gradient(135deg, #8B95A8 0%, #7B8594 100%);
      box-shadow: 0 4px 12px rgba(139, 149, 168, 0.4);
    }

    .deck-v .primary-button:hover {
      box-shadow: 0 8px 20px rgba(139, 149, 168, 0.5);
    }

    .deck-v .secondary-button {
      background: #ffffff;
      color: #7B8594;
      border: 2px solid #7B8594;
    }

    .deck-wc .primary-button {
      background: linear-gradient(135deg, #E8B339 0%, #8B6914 50%, #2d2d2d 100%);
      box-shadow: 0 4px 12px rgba(139, 105, 20, 0.4);
    }

    .deck-wc .primary-button:hover {
      box-shadow: 0 8px 20px rgba(139, 105, 20, 0.5);
    }

    .deck-wc .secondary-button {
      background: #ffffff;
      color: #8B6914;
      border: 2px solid #8B6914;
    }

    /* DECK COLORS */
    .deck-p .card-front {
      background: linear-gradient(135deg, #E8B339 0%, #D4A030 50%, #C89020 100%);
    }
    .deck-p .card-back {
      background: linear-gradient(135deg, #F5D17A 0%, #E8C45F 50%, #D4A030 100%);
    }

    .deck-o .card-front {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #0a0a0a 100%);
    }
    .deck-o .card-back {
      background: linear-gradient(135deg, #3a3a3a 0%, #2d2d2d 50%, #1a1a1a 100%);
    }

    .deck-v .card-front {
      background: linear-gradient(135deg, #A8B0C0 0%, #8B95A8 50%, #7B8594 100%);
    }
    .deck-v .card-back {
      background: linear-gradient(135deg, #C5CDD9 0%, #A8B0C0 50%, #8B95A8 100%);
    }

    .deck-wc .card-front {
      background: linear-gradient(135deg, #E8B339 0%, #8B6914 35%, #2d2d2d 70%, #0a0a0a 100%);
    }
    .deck-wc .card-back {
      background: linear-gradient(135deg, #F5D17A 0%, #D4A030 35%, #8B6914 70%, #3a3a3a 100%);
    }

    .instruction-text {
      text-align: center;
      color: #6b7280;
      font-size: 15px;
      margin-top: 24px;
      font-weight: 500;
    }

    .disclaimer-text {
      text-align: center;
      color: #9ca3af;
      font-size: 11px;
      line-height: 1.6;
      margin-top: 20px;
      max-width: 600px;
      font-weight: 400;
      padding: 0 20px;
    }

    @media (max-width: 600px) {
      .intro-back-button {
        top: 16px;
        left: 16px;
        padding: 8px 14px;
        font-size: 13px;
      }

      .intro-container {
        padding: 40px 28px;
      }

      .intro-title {
        font-size: 32px;
      }

      .intro-subtitle {
        font-size: 15px;
      }

      .intro-body {
        font-size: 15px;
      }

      .how-to-title {
        font-size: 20px;
      }

      .step-icon {
        width: 44px;
        height: 44px;
        min-width: 44px;
      }

      .step-title {
        font-size: 16px;
      }

      .step-description {
        font-size: 14px;
      }

      .button-group {
        flex-direction: column;
      }

      .selection-title {
        font-size: 24px;
      }

      .selection-subtitle {
        font-size: 14px;
        margin-bottom: 30px;
      }

      .deck-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .draw-header {
        padding: 16px 20px;
      }

      .current-deck-name {
        font-size: 18px;
      }

      .action-buttons {
        flex-direction: column;
      }

      .card-display {
        max-width: 90%;
        min-width: 300px;
      }

      .action-buttons {
        max-width: 90%;
      }

      .preview-card {
        width: 60px;
        height: 84px;
      }

      .preview-card-p {
        left: -30px;
      }

      .preview-card-o {
        right: -28px;
      }

      .preview-card-v {
        left: -30px;
      }

      .preview-card-wc {
        right: -32px;
      }

      @keyframes shuffle {
        0% {
          transform: translateX(0) rotate(0deg) scale(1);
          opacity: 1;
        }
        25% {
          transform: translateX(-50px) rotate(-10deg) scale(0.95);
          opacity: 0.6;
        }
        50% {
          transform: translateX(50px) rotate(10deg) scale(0.9);
          opacity: 0.3;
        }
        75% {
          transform: translateX(-25px) rotate(-5deg) scale(0.95);
          opacity: 0.6;
        }
        100% {
          transform: translateX(0) rotate(0deg) scale(1);
          opacity: 1;
        }
      }

      .self-check-content {
        padding: 24px 16px;
      }

      .intro-message {
        padding: 24px;
      }

      .rating-buttons {
        gap: 6px;
      }

      .rating-btn {
        min-width: 70px;
        padding: 8px 8px;
        font-size: 11px;
      }

      .results-header {
        padding: 24px 20px 20px 20px;
      }

      .results-header h2 {
        font-size: 24px;
      }

      .profile-summary {
        padding: 24px 20px;
      }

      .insight-section {
        padding: 24px 20px;
      }
    }
 #studentName:required {
    border-left: 3px solid #d00000;
  }

  #studentName:focus:invalid {
    border-color: #d00000;
  }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-wrapper"><!-- INTRO SCREEN -->
   <div class="intro-screen" id="introScreen"><!-- Large Delta Patterns -->
    <div class="delta-pattern delta-pattern-1">
     Œî
    </div>
    <div class="delta-pattern delta-pattern-2">
     Œî
    </div>
    <div class="delta-pattern delta-pattern-3">
     Œî
    </div>
    <div class="delta-pattern delta-pattern-4">
     Œî
    </div>
    <div class="intro-container">
     <div class="delta-symbol">
      Œî
     </div><!-- Preview Cards around the container -->
     <div class="preview-cards">
      <div class="preview-card preview-card-p">
       <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11 7 L6 12 L11 17" /> <path d="M18 7 L13 12 L18 17" />
       </svg>
      </div>
      <div class="preview-card preview-card-o">
       <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="9" r="4" fill="white" stroke="none" /> <rect x="10.5" y="13" width="3" height="3.5" fill="white" stroke="none" /> <rect x="9.5" y="16.5" width="5" height="0.8" fill="white" stroke="none" /> <rect x="9.5" y="18" width="5" height="0.8" fill="white" stroke="none" />
       </svg>
      </div>
      <div class="preview-card preview-card-v">
       <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 7 L18 12 L13 17" /> <path d="M6 7 L11 12 L6 17" />
       </svg>
      </div>
      <div class="preview-card preview-card-wc">
       <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 2 L3 14 L12 14 L11 22 L21 10 L12 10 L13 2 Z" />
       </svg>
      </div>
     </div>
     <div class="logo-container" id="logoContainer"><img src="" alt="Logo" class="logo-image" id="logoImage" style="display: none;">
     </div>
     <div class="intro-header-block">
  <img src="povlogo.svg" class="intro-header-block-logo" alt="POV Logo">
  <h1 class="intro-title">POV Early Discovery Deck</h1>
</div>
     <p class="intro-body">The POV Deck invites you to pause, rewind, notice patterns, and imagine what comes next. Each card holds a guided question, üè∑Ô∏è competency tags, and a DELTA focus area (Cognitive, Interpersonal, Self-Leadership, Digital) to help you connect real experiences with practical insight.</p>
     <p class="intro-body" style="font-style: italic; color: #8B6914; margin-top: 24px; margin-bottom: 0;">Come in with curiosity. Stay open. These prompts are not about having the "right" point of view; they are about discovering your POV: the patterns, instincts, and truths that have been shaping you all along.</p>
     <div class="how-to-section">
      <h2 class="how-to-title">How to Play</h2>
      <div class="steps-container">
       <div class="step-item">
        <div class="step-icon">
         <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="6" width="18" height="12" rx="2" /> <path d="M7 10 L10 13 L17 10" />
         </svg>
        </div>
        <div class="step-content">
         <h3 class="step-title">Pick a deck</h3>
         <p class="step-description">Past, Ownership, Vision, or Wild Card.</p>
        </div>
       </div>
       <div class="step-item">
        <div class="step-icon">
         <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="4" width="12" height="16" rx="2" /> <line x1="10" y1="9" x2="14" y2="9" /> <line x1="10" y1="13" x2="14" y2="13" />
         </svg>
        </div>
        <div class="step-content">
         <h3 class="step-title">Draw a card</h3>
         <p class="step-description">At random.</p>
        </div>
       </div>
       <div class="step-item">
        <div class="step-icon">
         <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2 L2 7 L12 12 L22 7 L12 2 Z" /> <path d="M2 17 L12 22 L22 17" /> <path d="M2 12 L12 17 L22 12" />
         </svg>
        </div>
        <div class="step-content">
         <h3 class="step-title">Reflect &amp; connect</h3>
         <p class="step-description">Notice what story, pattern, or insight shows up.</p>
        </div>
       </div>
      </div>
     </div>
     <div class="button-group"><button class="start-button" onclick="showDeckSelection()">Begin Your Journey</button> <button class="start-button self-check-button" onclick="showSelfCheck()">
       <svg width="18" height="18" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle;"><line x1="12" y1="20" x2="12" y2="10" /> <line x1="18" y1="20" x2="18" y2="4" /> <line x1="6" y1="20" x2="6" y2="16" />
       </svg> DELTA Self-Check </button>
     </div>
    </div>
   </div><!-- SELF-CHECK SCREEN -->
   <div class="self-check-screen" id="selfCheckScreen">
    <div class="self-check-header">
     <div class="self-check-header-left"><button class="back-button" onclick="backToIntroFromSelfCheck()">‚Üê</button>
      <div class="self-check-title-group">
       <h2>
        <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle;"><line x1="12" y1="20" x2="12" y2="10" /> <line x1="18" y1="20" x2="18" y2="4" /> <line x1="6" y1="20" x2="6" y2="16" />
        </svg> DELTA Self-Check</h2>
       <p>Rate yourself on 56 competencies across 4 domains</p>
      </div>
     </div>
     <div class="progress-indicator" id="progressIndicator">
      0 of 56 completed
     </div>
    </div>
    <div class="self-check-content">
     <div class="self-check-container">
      <div class="intro-message">
       <h3>Welcome to Your Self-Assessment</h3>
       <p><strong>DELTA</strong> stands for <strong>Distinct Elements of Talent</strong> ‚Äî a research-based framework by McKinsey &amp; Company that identified 56 skills preparing young people for the future of work.</p>
       <p>These skills are grouped into four domains: <strong>Cognitive</strong>, <strong>Interpersonal</strong>, <strong>Self-Leadership</strong>, and <strong>Digital</strong>. They are called DELTAs because each one represents a skill you can grow and strengthen over time.</p>
       <p>This pre-assessment helps you get a clear view of your current strengths and growth areas across all four DELTA domains.</p>
       <p>For each skill below, rate how confident you feel. Be honest, this is for your awareness, not a score or grade.</p>
       <p><strong>üí° Tip:</strong> Complete this assessment now, then retake it later to track your growth!</p>
      </div>
      <div class="name-input-section">
  <label for="studentName">
    Your Name <span style="color:#d00000">*</span>
  </label>

  <input type="text" id="studentName" placeholder="Enter your name" required oninput="validateNameField()">

  <p id="nameError" style="
      display:none;
      color:#d00000;
      font-size:13px;
      margin-top:8px;
      font-weight:500;
    ">
    Required
  </p>
</div>
      </div>
      <div class="rating-scale-legend">
       <h4>Rating Scale</h4>
       <div class="scale-items">
        <div class="scale-item">
         <div class="scale-dot scale-dot-1"></div><span>1 - Not Yet</span>
        </div>
        <div class="scale-item">
         <div class="scale-dot scale-dot-2"></div><span>2 - Sometimes</span>
        </div>
        <div class="scale-item">
         <div class="scale-dot scale-dot-3"></div><span>3 - Often</span>
        </div>
        <div class="scale-item">
         <div class="scale-dot scale-dot-4"></div><span>4 - Always</span>
        </div>
       </div>
      </div>
      <div id="deltaCategories"></div>
      <div class="complete-section"><button class="complete-button" id="completeButton" onclick="completeSelfCheck()" disabled> Complete Assessment </button>
      </div>
     </div>
    </div>
   </div><!-- RESULTS SCREEN -->
   <div class="results-screen" id="resultsScreen">
    <div class="results-header">
     <h2 id="resultsHeaderTitle">üéØ Your DELTA Profile</h2>
     <p>Assessment completed on <span id="assessmentDate"></span></p>
    </div>
    <div class="results-content">
     <div class="results-container">
      <div class="profile-summary">
       <h3>Your Scores</h3>
       <p class="summary-subtitle">Based on your self-assessment across 56 competencies</p>
       <div class="domain-scores" id="domainScores"></div>
      </div>
      <div class="insight-section">
       <h4>üìä Domain Interpretations</h4>
       <div id="domainInterpretations"></div>
      </div>
      <div class="insight-section">
       <h4>üí™ Your Strength Patterns</h4>
       <p id="strengthPatternsText"></p>
      </div>
      <div class="insight-section">
       <h4>üìö Your Learning Style</h4>
       <p id="learningStyleText"></p>
      </div>
      <div class="insight-section">
       <h4>üí¨ Your Communication Style</h4>
       <p id="communicationText"></p>
      </div>
      <div class="insight-section">
       <h4>üî• What Motivates You</h4>
       <p id="motivationText"></p>
      </div>
      <div class="insight-section">
       <h4>üå± Growth Opportunities</h4>
       <ul class="suggestions-list" id="growthOpportunitiesList"></ul>
      </div>
      <div class="insight-section">
       <h4>üí° Personalized Suggestions</h4>
       <ul class="suggestions-list" id="suggestionsList"></ul>
      </div>
      <div class="reflection-prompts">
       <h4>ü§î Reflection Prompts for You</h4>
       <div id="reflectionPromptsList"></div>
      </div>
      <div class="results-actions"><button class="action-btn primary-action" onclick="showDeckSelectionFromResults()"> Explore Reflection Decks </button> <button class="action-btn secondary-action" onclick="retakeAssessment()"> Retake Assessment </button> <button class="action-btn secondary-action" onclick="backToIntroFromResults()"> Back to Home </button>
      </div>
     </div>
    </div>
   </div><!-- DECK SELECTION SCREEN -->
   <div class="deck-selection" id="deckSelection"><button class="intro-back-button" onclick="backToIntro()">‚Üê Back to Intro</button>
    <div class="selection-logo">
  <img src="logoonlytp.svg" alt="POV Logo" class="selection-logo-img">
</div>

    <h1 class="selection-title">Choose Your Deck</h1>
    <p class="selection-subtitle">A reflection deck made from the ‚ù§Ô∏è, designed to help you explore your past, understand yourself, and shape your future with clarity and confidence.</p>
    <div class="deck-grid">
     <div class="deck-option deck-option-p" onclick="selectDeck('p')">
      <div class="deck-icon">
       <svg width="48" height="48" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="stroke: #1e1b4b; stroke-width: 2.5; fill: none; stroke-linecap: round; stroke-linejoin: round; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));"><path d="M11 7 L6 12 L11 17" /> <path d="M18 7 L13 12 L18 17" />
       </svg>
      </div>
      <h2 class="deck-name">Past</h2>
      <p class="deck-description">Takes you back to the moments that shaped you; your wins, failures, turning points, and lessons learned.</p>
      <p class="deck-count">19 Cards</p>
     </div>
     <div class="deck-option deck-option-o" onclick="selectDeck('o')">
      <div class="deck-icon">
       <svg width="48" height="48" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));"><circle cx="12" cy="9" r="4" fill="#ffffff" stroke="none" /> <rect x="10.5" y="13" width="3" height="3.5" fill="#ffffff" stroke="none" /> <rect x="9.5" y="16.5" width="5" height="0.8" fill="#ffffff" stroke="none" /> <rect x="9.5" y="18" width="5" height="0.8" fill="#ffffff" stroke="none" />
       </svg>
      </div>
      <h2 class="deck-name">Ownership</h2>
      <p class="deck-description">Helps you look inward, take responsibility, recognise your patterns, and understand your role in every moment.</p>
      <p class="deck-count">15 Cards</p>
     </div>
     <div class="deck-option deck-option-v" onclick="selectDeck('v')">
      <div class="deck-icon">
       <svg width="48" height="48" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="stroke: #1e1b4b; stroke-width: 2.5; fill: none; stroke-linecap: round; stroke-linejoin: round; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));"><path d="M13 7 L18 12 L13 17" /> <path d="M6 7 L11 12 L6 17" />
       </svg>
      </div>
      <h2 class="deck-name">Vision</h2>
      <p class="deck-description">Guides you forward, clarifying your aspirations, intentions, and the future you want to build.</p>
      <p class="deck-count">14 Cards</p>
     </div>
     <div class="deck-option deck-option-wc" onclick="selectDeck('wc')">
      <div class="deck-icon">
       <svg width="48" height="48" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="stroke: #ffffff; stroke-width: 2.5; fill: none; stroke-linecap: round; stroke-linejoin: round; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));"><path d="M13 2 L3 14 L12 14 L11 22 L21 10 L12 10 L13 2 Z" />
       </svg>
      </div>
      <h2 class="deck-name">Wild Card</h2>
      <p class="deck-description">Shakes things up with playful, unexpected prompts designed to spark creativity and shift your perspective.</p>
      <p class="deck-count">6 Cards</p>
     </div>
    </div>
    <p class="disclaimer-text"><strong>A gentle note:</strong> The POV Deck is meant to guide reflection and meaningful conversation. It is not a therapeutic tool, and you should only explore what feels safe and comfortable for you. You are always in control of what you choose to share.</p>
   </div><!-- DRAW INTERFACE -->
   <div class="draw-interface" id="drawInterface">
    <div class="draw-header">
     <div class="draw-header-left"><button class="back-button" onclick="backToSelection()">‚Üê</button>
      <div class="current-deck-info">
       <h2 class="current-deck-name" id="currentDeckName">Past Deck</h2>
       <p class="current-deck-subtitle" id="currentDeckSubtitle">Reflect on your experiences</p>
      </div>
     </div>
     <div class="cards-remaining" id="cardsRemaining">
      19 cards left
     </div>
    </div>
    <div class="draw-content">
     <div class="card-display" id="cardDisplay">
      <div class="card-inner" id="cardInner"><!-- Card will be dynamically inserted here -->
      </div>
     </div>
     <div class="action-buttons" id="actionButtons"><button class="action-button primary-button" onclick="drawCard()" id="drawButton"> Draw Card </button> <button class="action-button secondary-button" onclick="backToSelection()"> Change Deck </button>
     </div>
     <p class="instruction-text" id="instructionText">Click "Draw Card" to reveal a random reflection prompt</p>
     <p class="disclaimer-text"><strong>A gentle note:</strong> The POV Deck is meant to guide reflection and meaningful conversation. It is not a therapeutic tool, and you should only explore what feels safe and comfortable for you. You are always in control of what you choose to share.</p>
    </div>
   </div>
  </div>
  <script>
    // DELTA Competencies Data
    const deltaCompetencies = {
      cognitive: {
        name: "üß† Cognitive",
        subtitle: "16 competencies",
        subcategories: {
          critical_thinking: {
            name: "Critical Thinking",
            competencies: [
              { id: "structured_problem_solving", name: "Structured problem solving", description: "You can break problems into smaller steps and figure things out one part at a time." },
              { id: "logical_reasoning", name: "Logical reasoning", description: "You make decisions based on facts and clear thinking, not guesses." },
              { id: "understanding_biases", name: "Understanding biases", description: "You notice when your feelings or assumptions might influence your judgment." },
              { id: "seeking_relevant_information", name: "Seeking relevant information", description: "You look for the right information instead of relying on the first thing you see." }
            ]
          },
          planning_ways_of_working: {
            name: "Planning & Ways of Working",
            competencies: [
              { id: "work_plan_development", name: "Work-plan development", description: "You can plan tasks in a way that helps you get things done on time." },
              { id: "time_management_prioritization", name: "Time management and prioritization", description: "You know what needs to be done first and manage your time responsibly." },
              { id: "agile_thinking", name: "Agile thinking", description: "You can switch plans smoothly when something unexpected happens." }
            ]
          },
          communication: {
            name: "Communication",
            competencies: [
              { id: "storytelling_public_speaking", name: "Storytelling and public speaking", description: "You can explain ideas clearly and in a way that keeps people interested." },
              { id: "asking_right_questions", name: "Asking the right questions", description: "You ask thoughtful questions that help you understand things better." },
              { id: "synthesizing_messages", name: "Synthesizing messages", description: "You can take information from different places and summarize it simply." },
              { id: "active_listening", name: "Active listening", description: "You listen closely and show people that you understand what they're saying." }
            ]
          },
          mental_flexibility: {
            name: "Mental Flexibility",
            competencies: [
              { id: "creativity_imagination", name: "Creativity and imagination", description: "You come up with new or unique ideas when solving problems." },
              { id: "translating_knowledge", name: "Translating knowledge to different contexts", description: "You can use what you've learned in one situation to help you in another." },
              { id: "adopting_different_perspective", name: "Adopting a different perspective", description: "You can look at a situation from someone else's point of view." },
              { id: "adaptability", name: "Adaptability", description: "You adjust well when things change around you." },
              { id: "ability_to_learn", name: "Ability to learn", description: "You learn new skills quickly and stay open to new ways of doing things." }
            ]
          }
        }
      },
      interpersonal: {
        name: "ü§ù Interpersonal",
        subtitle: "14 competencies",
        subcategories: {
          mobilizing_systems: {
            name: "Mobilizing Systems",
            competencies: [
              { id: "role_modeling", name: "Role modeling", description: "You behave in a way that others can look up to or follow." },
              { id: "win_win_negotiations", name: "Win-win negotiations", description: "You look for solutions where everyone benefits, not just you." },
              { id: "crafting_inspiring_vision", name: "Crafting an inspiring vision", description: "You can share ideas about the future in a way that motivates people." },
              { id: "organizational_awareness", name: "Organizational awareness", description: "You understand how groups, teams, or systems work and how decisions get made." }
            ]
          },
          developing_relationships: {
            name: "Developing Relationships",
            competencies: [
              { id: "empathy", name: "Empathy", description: "You understand how others feel and respond with care." },
              { id: "inspiring_trust", name: "Inspiring trust", description: "You behave in ways that make others feel safe and confident around you." },
              { id: "humility", name: "Humility", description: "You stay grounded, open to feedback, and willing to admit when you are wrong." },
              { id: "sociability", name: "Sociability", description: "You connect easily with others and build friendly relationships." }
            ]
          },
          teamwork_effectiveness: {
            name: "Teamwork Effectiveness",
            competencies: [
              { id: "fostering_inclusiveness", name: "Fostering inclusiveness", description: "You help make sure everyone feels welcome and included." },
              { id: "motivating_different_personalities", name: "Motivating different personalities", description: "You can encourage people with different styles or attitudes." },
              { id: "resolving_conflicts", name: "Resolving conflicts", description: "You help people work through disagreements calmly and fairly." },
              { id: "collaboration", name: "Collaboration", description: "You work well with others and contribute to the group's goals." },
              { id: "coaching", name: "Coaching", description: "You support others by giving helpful advice or guidance." },
              { id: "empowering", name: "Empowering", description: "You help others feel confident and capable of doing things on their own." }
            ]
          }
        }
      },
      self_leadership: {
        name: "üß≠ Self-Leadership",
        subtitle: "15 competencies",
        subcategories: {
          self_awareness_management: {
            name: "Self-Awareness & Self-Management",
            competencies: [
              { id: "understanding_emotions_triggers", name: "Understanding own emotions and triggers", description: "You notice what emotions you feel and why you feel them." },
              { id: "self_control_regulation", name: "Self-control and regulation", description: "You manage your reactions, even when situations are stressful." },
              { id: "understanding_own_strengths", name: "Understanding own strengths", description: "You know what you're good at and how to use it wisely." },
              { id: "integrity", name: "Integrity", description: "You act in an honest and consistent way, even when no one is watching." },
              { id: "self_motivation_wellness", name: "Self-motivation and wellness", description: "You push yourself to do your best while taking care of your well-being." },
              { id: "self_confidence", name: "Self-confidence", description: "You believe in your ability to learn, grow, and handle challenges." }
            ]
          },
          entrepreneurship: {
            name: "Entrepreneurship",
            competencies: [
              { id: "courage_risk_taking", name: "Courage and risk-taking", description: "You're willing to try things even when the outcome is uncertain." },
              { id: "driving_change_innovation", name: "Driving change and innovation", description: "You like improving things and coming up with better ways to do them." },
              { id: "energy_passion_optimism", name: "Energy, passion, and optimism", description: "You bring enthusiasm and a positive attitude to what you do." },
              { id: "breaking_orthodoxies", name: "Breaking orthodoxies", description: "You are open to challenging old rules and exploring new approaches." }
            ]
          },
          goals_achievement: {
            name: "Goals Achievement",
            competencies: [
              { id: "ownership_decisiveness", name: "Ownership and decisiveness", description: "You take responsibility for your tasks and make clear decisions." },
              { id: "achievement_orientation", name: "Achievement orientation", description: "You work hard to reach high standards and personal goals." },
              { id: "grit_persistence", name: "Grit and persistence", description: "You keep going even when things get hard." },
              { id: "coping_uncertainty", name: "Coping with uncertainty", description: "You stay calm and flexible when you don't have all the answers." },
              { id: "self_development", name: "Self-development", description: "You actively look for ways to grow and improve yourself." }
            ]
          }
        }
      },
      digital: {
        name: "üíª Digital",
        subtitle: "11 competencies",
        subcategories: {
          digital_fluency_citizenship: {
            name: "Digital Fluency & Citizenship",
            competencies: [
              { id: "digital_literacy", name: "Digital literacy", description: "You understand how to use digital tools safely and effectively." },
              { id: "digital_learning", name: "Digital learning", description: "You use online tools and resources to learn new things." },
              { id: "digital_collaboration", name: "Digital collaboration", description: "You work well with others using online platforms or technology." },
              { id: "digital_ethics", name: "Digital ethics", description: "You understand what is right and wrong when using digital content or data." }
            ]
          },
          software_use_development: {
            name: "Software Use & Development",
            competencies: [
              { id: "programming_literacy", name: "Programming literacy", description: "You understand the basics of how coding works and can use simple programs." },
              { id: "data_analysis_statistics", name: "Data analysis and statistics", description: "You can look at data and spot patterns or useful information." },
              { id: "computational_algorithmic_thinking", name: "Computational and algorithmic thinking", description: "You think in structured steps to solve complex problems." }
            ]
          },
          understanding_digital_systems: {
            name: "Understanding Digital Systems",
            competencies: [
              { id: "data_literacy", name: "Data literacy", description: "You can read, understand, and use data to make decisions." },
              { id: "smart_systems", name: "Smart systems", description: "You understand how systems like AI or automation work in everyday life." },
              { id: "cybersecurity_literacy", name: "Cybersecurity literacy", description: "You know how to protect yourself and your information online." },
              { id: "tech_translation_enablement", name: "Tech translation and enablement", description: "You can explain technology in simple terms and help others use it." }
            ]
          }
        }
      }
    };

    // Card Data (existing POV decks)
    const decks = {
      p: {
        name: "Past",
        subtitle: "Reflect on your experiences",
        label: "P ¬∑ PAST STORY",
        icon: '<path d="M11 7 L6 12 L11 17" /><path d="M18 7 L13 12 L18 17" />',
        iconSmall: '<path d="M11 7 L6 12 L11 17" /><path d="M18 7 L13 12 L18 17" />',
        cards: [
          {
  
  title: "1. Structured problem solving",
  prompt: "Think about a time you had to solve a messy or confusing problem at school. How did you start breaking it down?",
  tags: ["Cognitive", "Problem-solving", "DELTA"],
  delta: "Cognitive",

    whatGoodLooksLike: [
    "You break big problems into smaller, clearer pieces.",
    "You look for root causes, not just quick fixes.",
    "You test options before deciding what to do."
  ],
  selfQuestions: [
    "Do I pause to understand a problem before reacting?",
    "How often do I jump to a solution without exploring other options?"
  ],
  actions: [
    "Take one current challenge and write three smaller parts of it.",
    "Ask one person how they would approach the same problem and compare."
  ]
},
          {
    
    title: "2. The Curveball",
    prompt: "Describe a situation where something unexpected happened and you had to adjust on the fly.",
    tags: ["Adaptability", "Problem-solving", "Composure"],
    delta: "Self-Leadership",
    whatGoodLooksLike: [
      "You stay calm when plans change suddenly.",
      "You can quickly think of another way forward.",
      "You focus on what you can control instead of just feeling stuck."
    ],
    selfQuestions: [
      "When plans change, do I freeze, complain, or adapt?",
      "How quickly can I shift my mindset from ‚Äúthis is ruined‚Äù to ‚Äúwhat can I do now?‚Äù"
    ]
  },
          {
    
    title: "3. Racing the Clock",
    prompt: "Talk about a time when you had a really tight deadline, how did you handle it?",
    tags: ["Time Management", "Focus", "Execution"],
    delta: "Self-Leadership",
    whatGoodLooksLike: [
      "You break work into smaller tasks with mini-deadlines.",
      "You focus on what matters most instead of trying to do everything perfectly.",
      "You communicate early if you need help or more time."
    ],
    selfQuestions: [
      "Do I plan ahead or only react when the deadline is very close?",
      "What do I usually sacrifice first: quality, sleep, or communication?"
    ]
  },
          {
    
    title: "4. Team Chaos",
    prompt: "Tell me about a time you were part of a group where people were not working well together. What did you do?",
    tags: ["Collaboration", "Conflict Navigation", "Influence"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You try to understand everyone‚Äôs point of view before taking sides.",
      "You bring people back to the shared goal, not just the argument.",
      "You speak up calmly instead of adding more drama."
    ],
    selfQuestions: [
      "When a team breaks down, do I withdraw, join the conflict, or help calm it?",
      "What is one thing I can do next time to make teamwork smoother?"
    ]
  },
          {
    
    title: "5. The Risk",
    prompt: "Describe a time when you decided to try something even though you were not sure how it would turn out.",
    tags: ["Courage", "Judgement", "Experimentation"],
    delta: "Self-Leadership",
    whatGoodLooksLike: [
      "You think about possible outcomes instead of acting blindly.",
      "You are willing to feel uncomfortable if there is something meaningful to learn.",
      "You see failures as experiments, not proof that you are not good enough."
    ],
    selfQuestions: [
      "Do I avoid risks completely, or do I take them without thinking?",
      "What is one small, smart risk I could take in the next month?"
    ]
  },
          {
    
    title: "6. Wait, What?",
    prompt: "Tell me about a moment when you realized you misunderstood something important. How did you fix it?",
    tags: ["Communication", "Humility", "Recovery"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You admit the misunderstanding instead of pretending everything is fine.",
      "You ask clarifying questions to really understand what is needed.",
      "You take responsibility for your part and correct it quickly."
    ],
    selfQuestions: [
      "How comfortable am I with saying, ‚ÄúSorry, I misunderstood‚Äù?",
      "Do I check my understanding, or just assume I am right?"
    ]
  },
          {
    
    title: "7. Learning Curve",
    prompt: "Describe a time you had to learn something new quickly. What did you do?",
    tags: ["Learning Agility", "Curiosity", "Self-management"],
    delta: "Cognitive",
    whatGoodLooksLike: [
      "You look for tutorials, people, or resources instead of giving up.",
      "You are okay with being a beginner for a while.",
      "You practice in small steps instead of trying to master everything at once."
    ],
    selfQuestions: [
      "How do I usually react when I feel ‚Äòslow‚Äô at learning something new?",
      "Who or what do I turn to first when I am stuck?"
    ]
  },
          {
    
    title: "8. The Mystery",
    prompt: "Tell me about a problem you faced where you did not have all the information you needed. How did you figure it out?",
    tags: ["Critical Thinking", "Resourcefulness", "Resilience"],
    delta: "Cognitive",
    whatGoodLooksLike: [
      "You identify what you already know and what you still need to find out.",
      "You look for reliable sources or people to ask.",
      "You are able to move forward with a good enough answer, not a perfect one."
    ],
    selfQuestions: [
      "Do I stop when I do not know something, or do I keep exploring?",
      "How can I get better at checking if my information is trustworthy?"
    ]
  },
          {
    
    title: "9. Almost Quit",
    prompt: "Tell me about a time when something got so frustrating or hard that you almost gave up‚Äîbut did not.",
    tags: ["Perseverance", "Motivation", "Mindset"],
    delta: "Self-Leadership",
    whatGoodLooksLike: [
      "You remember why this goal matters to you personally.",
      "You break the work into tiny next steps instead of thinking about the whole mountain.",
      "You ask for support or encouragement when you need it."
    ],
    selfQuestions: [
      "What usually makes me want to quit: boredom, fear, or feeling alone?",
      "What helped me keep going the last time I pushed through something hard?"
    ]
  },
          {
    
    title: "10. Wrong Answer",
    prompt: "Describe a time you made a mistake. What happened, and what did you learn?",
    tags: ["Accountability", "Learning", "Growth Mindset"],
    delta: "Self-Leadership",
    whatGoodLooksLike: [
      "You can say, ‚ÄúThat was my mistake‚Äù without blaming others.",
      "You reflect on what you would do differently next time.",
      "You fix what you can instead of only feeling guilty."
    ],
    selfQuestions: [
      "How do I normally react when I am wrong?",
      "What recent mistake could I still turn into a lesson?"
    ]
  },
          {
    
    title: "11. Earning Trust",
    prompt: "A time when someone did not trust you at first, but you earned their trust over time.",
    tags: ["Trust-building", "Reliability", "Consistency"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You keep your promises, even on small things.",
      "You show up on time and do what you said you would do.",
      "You are honest, even when the truth is uncomfortable."
    ],
    selfQuestions: [
      "What do people rely on me for right now?",
      "If someone watched my actions for a week, would they see me as reliable?"
    ]
  },
          {
    
    title: "12. The Connector",
    prompt: "Describe a time you brought people together who did not know each other.",
    tags: ["Networking", "Relationship-building", "Initiative"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You notice who might benefit from knowing each other.",
      "You make introductions in a way that feels warm, not awkward.",
      "You think about mutual benefit, not just your own advantage."
    ],
    selfQuestions: [
      "Do I pay attention to who might work well together?",
      "How comfortable am I with introducing people or starting conversations?"
    ]
  },
          {
    
    title: "13. Reading the Room",
    prompt: "A time you had to understand unwritten rules or politics in a group or organization.",
    tags: ["Social Awareness", "Political Savvy", "Observation"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You notice tone, body language, and patterns, not just words.",
      "You observe who has influence and how decisions really get made.",
      "You adjust how you communicate without losing your values."
    ],
    selfQuestions: [
      "How quickly do I usually pick up on the ‚Äòunspoken‚Äô rules in a group?",
      "Have I ever ignored the room and pushed too hard, too fast?"
    ]
  },
          {
    
    title: "14. The Win-Win",
    prompt: "A situation where you and someone else wanted different things, and you found a solution that worked for both.",
    tags: ["Negotiation", "Collaboration", "Problem-solving"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You listen to what the other person really needs, not just what they say first.",
      "You are willing to compromise on less important points.",
      "You look for creative options so both sides gain something."
    ],
    selfQuestions: [
      "Do I usually aim to ‚Äòwin‚Äô, or do I try to find win-win solutions?",
      "What is one conflict where I could have listened more before defending my side?"
    ]
  },
          {
    
    title: "15. The Outsider",
    prompt: "A time you helped someone feel included when they were being left out.",
    tags: ["Inclusion", "Empathy", "Leadership"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You notice when someone is quiet, excluded, or not invited in.",
      "You take small actions, like sitting with them or involving them in conversation.",
      "You challenge unfair jokes or behaviour in a respectful way."
    ],
    selfQuestions: [
      "How often do I act when I notice someone being left out?",
      "Have I ever been the one left out, and what did I wish others had done?"
    ]
  },
         {
    
    title: "16. When We Clashed",
    prompt: "Tell me about a time you had a conflict with a teammate and how it got resolved.",
    tags: ["Conflict Resolution", "Communication", "Maturity"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You talk about the issue directly instead of avoiding the person.",
      "You listen to their side without interrupting.",
      "You focus on solving the problem, not winning the argument."
    ],
    selfQuestions: [
      "When I am upset, do I shut down, attack, or try to understand?",
      "What helped the last time I turned a conflict into a better relationship?"
    ]
  },
          {
    
    title: "17. Digging Deeper",
    prompt: "A time you had to find information or answers that were not obvious or easy to find.",
    tags: ["Research", "Persistence", "Curiosity"],
    delta: "Cognitive",
    whatGoodLooksLike: [
      "You search beyond the first page or first source.",
      "You compare different sources instead of believing the first thing you see.",
      "You are patient with the process of investigating."
    ],
    selfQuestions: [
      "Am I satisfied with quick answers, or do I dig deeper when something matters?",
      "Where could I practice better research habits in my current work or study?"
    ]
  },
          {
    
    title: "18. Making It Simple",
    prompt: "A time you had to explain something complicated to someone in a way they could understand.",
    tags: ["Clarity", "Communication", "Teaching"],
    delta: "Interpersonal",
    whatGoodLooksLike: [
      "You remove jargon and use simple language.",
      "You check in to see if the other person is following.",
      "You use examples, stories, or visuals to make the idea clearer."
    ],
    selfQuestions: [
      "Do people often say, ‚ÄúOh, now I get it‚Äù when I explain things?",
      "Where could I slow down and explain more clearly in my daily life?"
    ]
  },
          {
    
    title: "19. The Right Thing",
    prompt: "A time you had to choose between what was easy and what was right.",
    tags: ["Integrity", "Values", "Courage"],
    delta: "Self-Leadership",
    whatGoodLooksLike: [
      "You act in line with your values, even when no one is watching.",
      "You think about the long-term impact, not just short-term comfort.",
      "You are willing to disappoint others if it means doing what feels right."
    ],
    selfQuestions: [
      "What do I stand for, even when it costs me something?",
      "When was the last time I chose the harder but more honest path?"
    ]
      }
]
},
      o: {
        name: "Ownership",
        subtitle: "Explore accountability and initiative",
        label: "O ¬∑ OWNERSHIP & INSIGHT",
        icon: '<circle cx="12" cy="9" r="4" fill="white" stroke="none" /><rect x="10.5" y="13" width="3" height="3.5" fill="white" stroke="none" /><rect x="9.5" y="16.5" width="5" height="0.8" fill="white" stroke="none" /><rect x="9.5" y="18" width="5" height="0.8" fill="white" stroke="none" />',
        iconSmall: '<circle cx="12" cy="9" r="4" fill="white" stroke="none" /><rect x="10.5" y="13" width="3" height="3.5" fill="white" stroke="none" /><rect x="9.5" y="16.5" width="5" height="0.8" fill="white" stroke="none" /><rect x="9.5" y="18" width="5" height="0.8" fill="white" stroke="none" />',
        cards: [
          {
      
      title: "1. Owning It",
      prompt: "Tell me about a time when you took ownership of something‚Äîgood or bad.",
      tags: ["Ownership", "Accountability", "Integrity"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You admit your part in the outcome, even when it is uncomfortable.",
        "You focus on fixing the situation instead of giving excuses.",
        "You follow through until things are back on track."
      ],
      selfQuestions: [
        "When something goes wrong, do I look at my own part first?",
        "How do I usually respond when I realise I made a mistake?"
      ]
  },
          {
          
      title: "2. Better Way",
      prompt: "Describe a situation where you improved how something was done.",
      tags: ["Continuous Improvement", "Initiative", "Problem-solving"],
      delta: "Cognitive",
      whatGoodLooksLike: [
        "You notice when a process is slow, confusing, or wasteful.",
        "You suggest specific, practical changes instead of only pointing out problems.",
        "You help others adjust to the new way of working."
      ],
      selfQuestions: [
        "Do I speak up when I see a better way of doing things?",
        "How comfortable am I with changing routines that are not working well?"
      ]
  },
          
          {
      
      title: "3. Follow Through",
      prompt: "Tell me about a goal or commitment you made. How did you make sure you followed through?",
      tags: ["Discipline", "Reliability", "Execution"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You honour your commitments even when you no longer feel motivated.",
        "You plan your time so you can finish what you promised.",
        "People can trust that if you say you will do something, it gets done."
      ],
      selfQuestions: [
        "How often do I complete what I say I will do, on time?",
        "What usually gets in the way of my follow-through?"
      ]
    },
    
          {
      
      title: "4. Feedback Check",
      prompt: "Describe a time when you asked for feedback. What did you learn?",
      tags: ["Self-awareness", "Openness", "Learning"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You invite feedback instead of waiting for others to bring it up.",
        "You listen without becoming defensive or shutting down.",
        "You use feedback to adjust your behaviour or approach."
      ],
      selfQuestions: [
        "When was the last time I actively asked someone for honest feedback?",
        "How do I react inside when I hear something I do not like?"
      ]
    },
          {
     
      title: "5. Tough Call",
      prompt: "Tell me about a time when you had to make a difficult decision. How did you decide?",
      tags: ["Decision-making", "Judgement", "Courage"],
      delta: "Cognitive",
      whatGoodLooksLike: [
        "You slow down to think through options instead of reacting quickly.",
        "You weigh both short-term impact and long-term consequences.",
        "You are willing to choose a harder path if it feels more correct."
      ],
      selfQuestions: [
        "What do I pay attention to most when I make a tough decision?",
        "Do I avoid hard choices, or do I face them directly?"
      ]
    },
    {
      
      title: "6. Accountability Moment",
      prompt: "Describe a time when someone depended on you. How did you show up?",
      tags: ["Responsibility", "Reliability", "Ownership"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You understand clearly what others expect from you.",
        "You keep the person updated instead of disappearing when things get hard.",
        "You feel responsible for the outcome, not only for your task."
      ],
      selfQuestions: [
        "When others rely on me, how dependable am I, really?",
        "How do I behave when I realise I might let someone down?"
      ]
    },
    {
      
      title: "7. Going the Extra Mile",
      prompt: "Tell me about a time you did more than what was expected of you.",
      tags: ["Commitment", "Work Ethic", "Initiative"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You notice needs that are not written in the instructions.",
        "You are willing to put in extra effort when it truly matters.",
        "You care about the quality of the outcome, not only about finishing."
      ],
      selfQuestions: [
        "What kind of situations inspire me to go beyond the minimum?",
        "Do I save my best energy only for myself, or also for the team?"
      ]
    },
    {
      
      title: "8. My Part",
      prompt: "Describe a time when something did not go well, and you reflected on your role in it.",
      tags: ["Reflection", "Humility", "Growth Mindset"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You are able to admit when you contributed to a problem.",
        "You focus on learning rather than blaming others.",
        "You adjust how you act next time, based on what you learned."
      ],
      selfQuestions: [
        "When things go wrong, do I mainly blame others or reflect on myself first?",
        "What is one pattern I have noticed in how I contribute to problems?"
      ]
    },
    {
      
      title: "9. Initiative Check",
      prompt: "Tell me about something you started or created without being told to do it.",
      tags: ["Proactiveness", "Creativity", "Ownership"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You do not wait for permission to start something useful or meaningful.",
        "You see gaps or opportunities and move toward them.",
        "You are willing to try, even if there is a risk it may not work perfectly."
      ],
      selfQuestions: [
        "When was the last time I started something on my own?",
        "What usually holds me back from taking initiative?"
      ]
    },
    {
      
      title: "10. Prioritizing",
      prompt: "Tell me about a time when you had multiple things to do and had to decide what mattered most.",
      tags: ["Prioritisation", "Time Management", "Judgement"],
      delta: "Cognitive",
      whatGoodLooksLike: [
        "You look at deadlines, impact, and importance before choosing where to start.",
        "You are able to say no or delay less important tasks.",
        "You adjust your plan when new information or urgency appears."
      ],
      selfQuestions: [
        "How do I currently decide what to do first when I am busy?",
        "Do I spend more time on urgent tasks, or on the tasks that really matter?"
      ]
    },
    {
      
      title: "11. Pride Before Fall",
      prompt: "A moment when you had to set aside your pride or ego for something more important.",
      tags: ["Humility", "Maturity", "Teamwork"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You can admit when someone else has a better idea or solution.",
        "You apologise sincerely when your ego has caused harm.",
        "You choose the outcome that serves the group, not only your image."
      ],
      selfQuestions: [
        "How do I react when I am proven wrong in front of others?",
        "When was the last time I chose to listen instead of pushing my own way?"
      ]
    },
    {
      
      title: "12. Helping Someone Grow",
      prompt: "A time you helped someone improve at something ‚Äî how did you approach it?",
      tags: ["Coaching", "Support", "Empathy"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You start by understanding what the other person needs and feels.",
        "You give feedback that is honest but also kind and specific.",
        "You stay patient as they practice and make mistakes."
      ],
      selfQuestions: [
        "Do I enjoy seeing others grow, or do I feel threatened by it?",
        "How good am I at giving feedback that helps rather than hurts?"
      ]
    },
    {
      
      title: "13. Different Motivators",
      prompt: "When working with others, how do you figure out what drives each person?",
      tags: ["Empathy", "Motivation", "People Insight"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You notice what excites or frustrates different people.",
        "You adjust how you speak or delegate based on what matters to them.",
        "You understand that not everyone is motivated by the same goals."
      ],
      selfQuestions: [
        "Do I pay attention to what motivates people around me?",
        "How could I work differently with someone who is very unlike me?"
      ]
    },
    {
      
      title: "14. My Blind Spot",
      prompt: "A time you realized you were biased or making assumptions about something or someone.",
      tags: ["Self-awareness", "Bias Awareness", "Reflection"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You can admit when your first impression was unfair or incomplete.",
        "You are curious about perspectives that challenge your views.",
        "You try to correct your behaviour after noticing a bias."
      ],
      selfQuestions: [
        "What kinds of people or situations do I judge too quickly?",
        "How do I react when someone points out a bias I have?"
      ]
    },
    {
      
      title: "15. Breaking It Down",
      prompt: "Describe how you approach a big, complex task from start to finish.",
      tags: ["Planning", "Structure", "Analytical Thinking"],
      delta: "Cognitive",
      whatGoodLooksLike: [
        "You break large tasks into smaller, manageable steps.",
        "You set realistic timelines and checkpoints.",
        "You review progress and adjust the plan when needed."
      ],
      selfQuestions: [
        "Do I usually plan tasks, or do I jump in and hope it works out?",
        "What could I change in my planning to make big tasks feel less overwhelming?"
      ]
    }
  ]
},
      v: {
        name: "Vision",
        subtitle: "Envision your future",
        label: "V ¬∑ VISION & FUTURE",
        icon: '<path d="M13 7 L18 12 L13 17" /><path d="M6 7 L11 12 L6 17" />',
        iconSmall: '<path d="M13 7 L18 12 L13 17" /><path d="M6 7 L11 12 L6 17" />',
        cards: [
          {
      
      title: "1. Future You",
      prompt: "What does success look like for you in the next 2‚Äì3 years?",
      tags: ["Aspiration", "Self-direction", "Goal-setting"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You can describe success in clear and specific terms, not only as a vague dream.",
        "Your picture of success includes both results and how you want to feel or behave.",
        "You see a connection between your future goals and what you are doing today."
      ],
      selfQuestions: [
        "If I woke up in two years feeling proud, what would be true about my life?",
        "Which parts of my current routine are moving me toward that picture, and which are not?"
      ]
    },
          {
      
      title: "2. Inspire Me",
      prompt: "Who do you look up to, and why?",
      tags: ["Role Models", "Values", "Inspiration"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You notice specific qualities in others that you want to develop in yourself.",
        "You admire people for their character and behaviour, not only for status.",
        "You use role models as inspiration, not as a reason to feel smaller."
      ],
      selfQuestions: [
        "What do my role models reveal about what I truly value?",
        "Which of their qualities am I already practising in small ways?"
      ]
    },
    {
      
      title: "3. Your Why",
      prompt: "What motivates you to work hard or keep going when things are tough?",
      tags: ["Motivation", "Purpose", "Resilience"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You can name reasons that feel meaningful to you, not only external pressure.",
        "You remind yourself of your why when you feel tired or discouraged.",
        "Your motivation is linked to growth, contribution, or a bigger picture."
      ],
      selfQuestions: [
        "When I almost give up, what thought or reason pulls me back?",
        "Is my motivation coming from fear, from expectation, or from something deeper?"
      ]
    },
    {
      
      title: "4. Impact Vision",
      prompt: "What kind of impact do you want to have on your community, team, or field?",
      tags: ["Impact", "Contribution", "Leadership"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You think beyond personal success and consider how others are affected.",
        "You can imagine specific changes you would like to see around you.",
        "You believe your actions, even small, can make a real difference."
      ],
      selfQuestions: [
        "If I disappeared for a year, what would I want people to miss about me?",
        "Where do I already have a small impact that I could grow over time?"
      ]
    },
    {
      
      title: "5. If You Could‚Ä¶",
      prompt: "If you could solve one problem in the world, what would it be and why?",
      tags: ["Problem-sensing", "Empathy", "Vision"],
      delta: "Cognitive",
      whatGoodLooksLike: [
        "You notice problems that affect people, not only yourself.",
        "You can explain why that problem matters deeply to you.",
        "You think about possible ways to start influencing that issue, even at a small scale."
      ],
      selfQuestions: [
        "Which real-world issues stay in my mind long after I hear about them?",
        "What is one small action I could take that aligns with this concern?"
      ]
    },
    {
      
      title: "6. Values Check",
      prompt: "What is something you believe in strongly, and how do you show it through your actions?",
      tags: ["Values", "Integrity", "Consistency"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You can name a value that truly guides your decisions.",
        "Your daily choices match what you say you care about.",
        "You notice when your behaviour starts to move away from your values."
      ],
      selfQuestions: [
        "If someone watched my week, what would they say I value most?",
        "When have I protected a value, even when it cost me time, comfort, or approval?"
      ]
    },
    {
      
      title: "7. The Bigger Picture",
      prompt: "How do your current goals connect to something bigger than yourself?",
      tags: ["Systems Thinking", "Meaning", "Long-term View"],
      delta: "Cognitive",
      whatGoodLooksLike: [
        "You see links between your study, work, and wider systems like community or industry.",
        "You understand that your growth can benefit others, not only you.",
        "You are able to connect small tasks to a larger purpose."
      ],
      selfQuestions: [
        "Where does my personal growth create value for others as well?",
        "How does this season of my life fit into a larger story I am building?"
      ]
    },
    {
      
      title: "8. Dream Role",
      prompt: "Describe a role or opportunity that excites you. What about it appeals to you?",
      tags: ["Career Vision", "Motivation", "Self-knowledge"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You can picture a role in enough detail to imagine a day in that life.",
        "You know which parts of the role energise you most.",
        "You start noticing paths or skills that could move you toward that kind of work."
      ],
      selfQuestions: [
        "Which elements of my dream role could I begin to practise now?",
        "Does this role excite me because of status, or because of the work itself?"
      ]
    },
    {
      
      title: "9. Growth Vision",
      prompt: "What is one skill or strength you want to develop, and why does it matter to you?",
      tags: ["Learning Agility", "Development", "Intentionality"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You choose growth areas that truly matter, not only what looks good on paper.",
        "You can explain how this skill links to your future plans.",
        "You are willing to practise, fail, and try again to build it."
      ],
      selfQuestions: [
        "Which skill, if I improved it, would make many other things easier?",
        "What is one simple way I could start strengthening this skill this month?"
      ]
    },
    {
      
      title: "10. Legacy Thoughts",
      prompt: "If people remembered you for one thing, what would you want it to be?",
      tags: ["Legacy", "Identity", "Purpose"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You think about how your behaviour affects people over time.",
        "You care about being consistent, not only impressive in rare moments.",
        "You want your impact to be kind, useful, or inspiring, not only successful."
      ],
      selfQuestions: [
        "Right now, what would people honestly say I am known for?",
        "What is one small behaviour I could repeat that supports the legacy I want?"
      ]
    },
    {
      
      title: "11. The Change I'd Make",
      prompt: "If you could change one rule or system in your school or community, what would it be and how would you get others on board?",
      tags: ["Change-making", "Influence", "Initiative"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You can see how a rule or system impacts different people, not only yourself.",
        "You think about realistic steps, not only ideal outcomes.",
        "You involve others by listening, explaining, and inviting ideas."
      ],
      selfQuestions: [
        "What feels unfair or outdated around me, and why?",
        "How comfortable am I with speaking up and organising others around a change?"
      ]
    },
    {
      
      title: "12. Leading by Doing",
      prompt: "A time when people followed your example without you asking them to.",
      tags: ["Role Modelling", "Informal Leadership", "Behaviour"],
      delta: "Interpersonal",
      whatGoodLooksLike: [
        "You understand that people notice your behaviour more than your words.",
        "You act in a way you would be proud for others to copy.",
        "You use your influence quietly, without needing credit."
      ],
      selfQuestions: [
        "If others copied my usual behaviour, would that help or hurt the group?",
        "When have I seen my actions shift how others behave?"
      ]
    },
    {
      
      title: "13. Plan B (and C)",
      prompt: "Tell me about a time when your original plan fell apart and you had to quickly adjust.",
      tags: ["Adaptability", "Resilience", "Planning"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You accept that plans may change instead of staying stuck in frustration.",
        "You can redesign your approach without losing your main goal.",
        "You learn from what did not work and carry that lesson forward."
      ],
      selfQuestions: [
        "How do I usually respond when plans fall apart unexpectedly?",
        "Do I treat changes as failure, or as information to adjust with?"
      ]
    },
    {
      
      title: "14. The Unknown Path",
      prompt: "Describe a time you committed to something even though you did not know how it would turn out.",
      tags: ["Risk-taking", "Courage", "Uncertainty"],
      delta: "Self-Leadership",
      whatGoodLooksLike: [
        "You are willing to move forward without having every answer.",
        "You manage your fear by preparing what you can and accepting what you cannot control.",
        "You look back at uncertain steps as important parts of your growth."
      ],
      selfQuestions: [
        "What level of uncertainty makes me freeze, and why?",
        "When has taking a thoughtful risk led to growth or new opportunities for me?"
      ]
    }
  ]
},
      wc: {
        name: "Wild Card",
        subtitle: "Diverse self-discovery prompts",
        label: "POV WILD CARD",
        icon: '<path d="M13 2 L3 14 L12 14 L11 22 L21 10 L12 10 L13 2 Z" />',
        iconSmall: '<path d="M13 2 L3 14 L12 14 L11 22 L21 10 L12 10 L13 2 Z" />',
        cards: [
          { number: "01", title: "Strengths Spotlight", prompt: "What do people often come to you for help with?", tags: ["Strengths", "Reputation", "Self-awareness"], delta: "Self-Leadership" },
          { number: "02", title: "Growth Edge", prompt: "What is one thing you wish you were better at?", tags: ["Honesty", "Development", "Growth Mindset"], delta: "Self-Leadership" },
          { number: "03", title: "Reputation Reflection", prompt: "If I asked your friends or teammates to describe you in three words, what would they say?", tags: ["Self-image", "Feedback", "Reflection"], delta: "Interpersonal" },
          { number: "04", title: "Pressure Test", prompt: "How do you react when you are stressed or under pressure?", tags: ["Coping", "Emotional Awareness", "Resilience"], delta: "Self-Leadership" },
          { number: "05", title: "Collaboration Check", prompt: "How do you prefer to work‚Äîalone, with a partner, or in a group? Why?", tags: ["Work Style", "Collaboration", "Self-knowledge"], delta: "Interpersonal" },
          { number: "06", title: "Breaking the Rules", prompt: "When is it okay to break rules or do things differently than expected?", tags: ["Judgement", "Creativity", "Ethics"], delta: "Cognitive" }
        ]
      }
    };

    let currentDeck = null;
    let availableCards = [];
    let currentCard = null;
    let isFlipped = false;
    let isShuffling = false;

    // Self-check data
    let selfCheckRatings = {};
    let totalCompetencies = 0;

    function showDeckSelection() {
      const introScreen = document.getElementById('introScreen');
      const deckSelection = document.getElementById('deckSelection');
      
      introScreen.classList.add('hidden');
      deckSelection.classList.add('active');
    }

    function showDeckSelectionFromResults() {
      const resultsScreen = document.getElementById('resultsScreen');
      const deckSelection = document.getElementById('deckSelection');
      
      resultsScreen.classList.remove('active');
      deckSelection.classList.add('active');
    }

    function backToIntro() {
      const introScreen = document.getElementById('introScreen');
      const deckSelection = document.getElementById('deckSelection');
      
      deckSelection.classList.remove('active');
      introScreen.classList.remove('hidden');
    }

    function backToIntroFromResults() {
      const introScreen = document.getElementById('introScreen');
      const resultsScreen = document.getElementById('resultsScreen');
      
      resultsScreen.classList.remove('active');
      introScreen.classList.remove('hidden');
    }

    function showSelfCheck() {
      const introScreen = document.getElementById('introScreen');
      const selfCheckScreen = document.getElementById('selfCheckScreen');
      
      introScreen.classList.add('hidden');
      selfCheckScreen.classList.add('active');
      
      initializeSelfCheck();
    }

    function backToIntroFromSelfCheck() {
      const introScreen = document.getElementById('introScreen');
      const selfCheckScreen = document.getElementById('selfCheckScreen');
      
      selfCheckScreen.classList.remove('active');
      introScreen.classList.remove('hidden');
    }

    function initializeSelfCheck() {
      selfCheckRatings = {};
      totalCompetencies = 0;

      const savedRatings = localStorage.getItem('pov_selfcheck_ratings');
      if (savedRatings) {
        try {
          selfCheckRatings = JSON.parse(savedRatings) || {};
        } catch (e) {
          console.warn('Failed to parse saved self-check ratings', e);
          selfCheckRatings = {};
        }
      }

      const savedName = localStorage.getItem('pov_student_name');
if (savedName) {
  const nameInputEl = document.getElementById('studentName');
  const validIconEl = document.getElementById('nameValidIcon');
  const errorTextEl = document.getElementById('nameError');

  nameInputEl.value = savedName;

  if (validIconEl) validIconEl.classList.add('visible');
  if (errorTextEl) errorTextEl.classList.remove('visible');
}


      Object.keys(deltaCompetencies).forEach(domainKey => {
        const domain = deltaCompetencies[domainKey];
        Object.keys(domain.subcategories).forEach(subcatKey => {
          totalCompetencies += domain.subcategories[subcatKey].competencies.length;
        });
      });

      renderSelfCheckCompetencies();
      updateProgress();
    }

    function renderSelfCheckCompetencies() {
      const deltaCategories = document.getElementById('deltaCategories');
      deltaCategories.innerHTML = '';

      Object.keys(deltaCompetencies).forEach(domainKey => {
        const domain = deltaCompetencies[domainKey];
        
        let domainHTML = `
          <div class="delta-category-section">
            <div class="delta-category-header">
              <h3>${domain.name}</h3>
              <p>${domain.subtitle}</p>
            </div>
        `;

        Object.keys(domain.subcategories).forEach(subcatKey => {
          const subcat = domain.subcategories[subcatKey];
          
          domainHTML += `
            <div class="subcategory-section">
              <div class="subcategory-header" onclick="toggleSubcategory('${domainKey}_${subcatKey}')">
                <h4>${subcat.name}</h4>
                <svg class="expand-icon" id="expand-${domainKey}_${subcatKey}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="competency-list" id="complist-${domainKey}_${subcatKey}">
                ${subcat.competencies.map(comp => {
                  const compId = `${domainKey}_${subcatKey}_${comp.id}`;
                  const savedRating = selfCheckRatings[compId];

                  return `
                    <div class="assessment-card">
                      <div class="card-info">
                        <h5>${comp.name}</h5>
                        <p>${comp.description}</p>
                      </div>
                      <div class="rating-buttons">
                        ${[
                          { value: 1, label: 'Not Yet' },
                          { value: 2, label: 'Sometimes' },
                          { value: 3, label: 'Often' },
                          { value: 4, label: 'Always' }
                        ].map(rating => `
                          <button
                            class="rating-btn rating-btn-${rating.value} ${savedRating === rating.value ? 'selected' : ''}"
                            onclick="rateCompetency('${compId}', ${rating.value}, this)"
                          >
                            ${rating.label}
                          </button>
                        `).join('')}
                      </div>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>
          `;
        });

        domainHTML += `</div>`;
        deltaCategories.innerHTML += domainHTML;
      });
    }

    function toggleSubcategory(subcatId) {
      const compList = document.getElementById(`complist-${subcatId}`);
      const expandIcon = document.getElementById(`expand-${subcatId}`);
      
      compList.classList.toggle('expanded');
      expandIcon.classList.toggle('expanded');
    }

    function rateCompetency(compId, rating, btn) {
      selfCheckRatings[compId] = rating;

      const card = btn.closest('.assessment-card');
      const buttons = card.querySelectorAll('.rating-btn');
      buttons.forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');

      localStorage.setItem('pov_selfcheck_ratings', JSON.stringify(selfCheckRatings));

      updateProgress();
    }

    function updateProgress() {
      const ratedCompetencies = Object.keys(selfCheckRatings).length;
      
      document.getElementById('progressIndicator').textContent = `${ratedCompetencies} of ${totalCompetencies} completed`;
      
      const completeButton = document.getElementById('completeButton');
      if (ratedCompetencies === totalCompetencies) {
        completeButton.disabled = false;
      } else {
        completeButton.disabled = true;
      }
    }

    function calculateDomainScores() {
      const domainScores = {
        cognitive: [],
        interpersonal: [],
        self_leadership: [],
        digital: []
      };

      for (const [compId, rating] of Object.entries(selfCheckRatings)) {
        const parts = compId.split('_');
        let domainKey;

        if (parts[0] === 'self' && parts[1] === 'leadership') {
          domainKey = 'self_leadership';
        } else {
          domainKey = parts[0];
        }

        if (!domainScores[domainKey]) {
          continue;
        }

        domainScores[domainKey].push(rating);
      }

      const results = {};
      for (const [domain, ratings] of Object.entries(domainScores)) {
        if (ratings.length === 0) {
          results[domain] = 0;
          continue;
        }
        const avg = ratings.reduce((sum, r) => sum + r, 0) / ratings.length;
        results[domain] = Math.round(avg * 10) / 10;
      }

      return results;
    }

    function generateInsights(scores) {
      const studentName = document.getElementById('studentName').value.trim();

      // Generate interpretations
      const interpretations = {};
      const domainNames = {
        cognitive: 'Cognitive',
        interpersonal: 'Interpersonal',
        self_leadership: 'Self-Leadership',
        digital: 'Digital'
      };

      for (const [domain, score] of Object.entries(scores)) {
        if (score >= 3.5) {
          interpretations[domain] = `Your ${domainNames[domain]} score of ${score}/4 shows strong confidence in this domain. You demonstrate excellent capabilities here.`;
        } else if (score >= 2.5) {
          interpretations[domain] = `Your ${domainNames[domain]} score of ${score}/4 indicates developing skills. You're on a solid growth trajectory.`;
        } else if (score >= 1.5) {
          interpretations[domain] = `Your ${domainNames[domain]} score of ${score}/4 shows emerging skills. This is an area with significant growth potential.`;
        } else {
          interpretations[domain] = `Your ${domainNames[domain]} score of ${score}/4 indicates this is a foundational area where focused development will yield great results.`;
        }
      }

      // Identify top and bottom domains
      const sortedDomains = Object.entries(scores)
        .sort((a, b) => b[1] - a[1])
        .map(([domain, score]) => ({ domain, score, name: domainNames[domain] }));

      const topDomain = sortedDomains[0];
      const bottomDomain = sortedDomains[sortedDomains.length - 1];

      // Generate rich insights
      const strengthPatterns = `Your strongest domain is ${topDomain.name} (${topDomain.score}/4). This suggests you naturally excel at ${topDomain.domain === 'cognitive' ? 'analytical thinking, planning, and problem-solving' : topDomain.domain === 'interpersonal' ? 'building relationships, collaborating, and influencing others' : topDomain.domain === 'self_leadership' ? 'self-awareness, goal-setting, and perseverance' : 'understanding and leveraging digital tools'}. You likely bring these strengths to every challenge you face.`;

      const learningStyle = topDomain.domain === 'cognitive' 
        ? 'You likely learn best through structured analysis, breaking down complex concepts, and exploring ideas deeply.'
        : topDomain.domain === 'interpersonal'
        ? 'You probably learn best through discussion, collaboration, and observing how others approach challenges.'
        : topDomain.domain === 'self_leadership'
        ? 'You may learn best through self-reflection, goal-setting, and direct hands-on experience.'
        : 'You likely learn well through exploration of digital tools, tutorials, and interactive experiences.';

      const communication = scores.cognitive >= 3 || scores.interpersonal >= 3
        ? 'You communicate thoughtfully and adapt your style based on your audience. You likely excel at both listening and expressing ideas.'
        : 'You are developing your communication skills. Focus on active listening, asking clarifying questions, and practicing clear expression.';

      const motivation = scores.self_leadership >= 3
        ? 'You are self-motivated and driven by internal goals. You likely find meaning in personal growth and achievement.'
        : 'You are discovering what drives you. Reflect on what energizes you and connect your activities to your values.';

      // Generate growth opportunities
      const growthOpportunities = [
        `Strengthen your ${bottomDomain.name} skills by seeking opportunities that challenge you in this domain.`,
        `Focus on ${sortedDomains[sortedDomains.length - 2].name} by practicing specific competencies through real-world experiences.`,
        `Build consistency across all domains by identifying cross-cutting skills that support multiple areas.`
      ];

      // Generate suggestions
      const suggestions = [
        `Seek mentorship or guidance from someone strong in ${bottomDomain.name}.`,
        `Set a specific goal to improve one ${bottomDomain.name} competency this month.`,
        `Reflect weekly on situations where you used your strengths and where you could grow.`,
        `Join activities or groups that naturally develop ${bottomDomain.name} skills.`,
        `Celebrate small wins as you develop new competencies‚Äîgrowth takes time!`
      ];

      // Generate reflection prompts
      const reflectionPrompts = [
        `What's one moment recently where you demonstrated your ${topDomain.name} strength?`,
        `If you could improve one ${bottomDomain.name} skill right now, which would have the biggest impact on your goals?`,
        `How do your current strengths help you overcome challenges in areas where you're still growing?`
      ];

      return {
        student_name: studentName || 'Student',
        interpretations,
        strength_patterns: strengthPatterns,
        learning_style: learningStyle,
        communication: communication,
        motivation: motivation,
        growth_opportunities: growthOpportunities,
        suggestions,
        reflection_prompts: reflectionPrompts
      };
    }

    function showResults(scores, insights) {
      const selfCheckScreen = document.getElementById('selfCheckScreen');
      const resultsScreen = document.getElementById('resultsScreen');
      
      selfCheckScreen.classList.remove('active');
      resultsScreen.classList.add('active');

      // Set header
      const headerTitle = document.getElementById('resultsHeaderTitle');
      if (insights.student_name && insights.student_name !== 'Student') {
        headerTitle.textContent = `üéØ ${insights.student_name}'s DELTA Profile`;
      } else {
        headerTitle.textContent = `üéØ Your DELTA Profile`;
      }

      // Set assessment date
      const date = new Date().toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
      document.getElementById('assessmentDate').textContent = date;

      // Render domain scores
      const domainScoresEl = document.getElementById('domainScores');
      domainScoresEl.innerHTML = '';

      const domainDetails = [
        { key: 'cognitive', emoji: 'üß†', name: 'Cognitive' },
        { key: 'interpersonal', emoji: 'ü§ù', name: 'Interpersonal' },
        { key: 'self_leadership', emoji: 'üß≠', name: 'Self-Leadership' },
        { key: 'digital', emoji: 'üíª', name: 'Digital' }
      ];

      domainDetails.forEach(domain => {
        const score = scores[domain.key];
        const percentage = (score / 4) * 100;

        const itemHTML = `
          <div class="domain-score-item">
            <div class="domain-header">
              <span class="domain-name">${domain.emoji} ${domain.name}</span>
              <span class="domain-score">${score} / 4</span>
            </div>
            <div class="score-bar-container">
              <div class="score-bar-fill" style="width: ${percentage}%"></div>
            </div>
          </div>
        `;
        domainScoresEl.innerHTML += itemHTML;
      });

      // Render domain interpretations
      const domainInterpretations = document.getElementById('domainInterpretations');
      domainInterpretations.innerHTML = '';
      domainDetails.forEach(domain => {
        const interp = insights.interpretations[domain.key];
        domainInterpretations.innerHTML += `
          <div class="domain-interpretation">
            <h5>${domain.emoji} ${domain.name}</h5>
            <p>${interp}</p>
          </div>
        `;
      });

      // Render insights
      document.getElementById('strengthPatternsText').textContent = insights.strength_patterns;
      document.getElementById('learningStyleText').textContent = insights.learning_style;
      document.getElementById('communicationText').textContent = insights.communication;
      document.getElementById('motivationText').textContent = insights.motivation;

      // Render growth opportunities
      const growthList = document.getElementById('growthOpportunitiesList');
      growthList.innerHTML = '';
      insights.growth_opportunities.forEach(opp => {
        growthList.innerHTML += `<li>${opp}</li>`;
      });

      // Render suggestions
      const suggestionsList = document.getElementById('suggestionsList');
      suggestionsList.innerHTML = '';
      insights.suggestions.forEach(sug => {
        suggestionsList.innerHTML += `<li>${sug}</li>`;
      });

      // Render reflection prompts
      const promptsList = document.getElementById('reflectionPromptsList');
      promptsList.innerHTML = '';
      insights.reflection_prompts.forEach(prompt => {
        promptsList.innerHTML += `<div class="prompt-item">${prompt}</div>`;
      });
    }

    function retakeAssessment() {
      const resultsScreen = document.getElementById('resultsScreen');
      const selfCheckScreen = document.getElementById('selfCheckScreen');
      
      resultsScreen.classList.remove('active');
      selfCheckScreen.classList.add('active');
      
      selfCheckRatings = {};

      localStorage.removeItem('pov_selfcheck_ratings');
      localStorage.removeItem('pov_last_assessment');
      
      document.querySelectorAll('.rating-btn.selected').forEach(btn => {
        btn.classList.remove('selected');
      });
      
      updateProgress();
    }

    function completeSelfCheck() {
  const completeButton = document.getElementById('completeButton');
  completeButton.disabled = true;
  completeButton.textContent = 'Calculating Results...';

  setTimeout(() => {
    const nameInput = document.getElementById('studentName');
    const studentName = nameInput.value.trim();

    // Name is required
    if (!studentName) {
  alert("Please enter your name before completing the assessment.");

  const nameInputEl = document.getElementById('studentName');
  const errorTextEl = document.getElementById('nameError');
  const validIconEl = document.getElementById('nameValidIcon');

  if (nameInputEl) {
    // 5Ô∏è‚É£ Smooth scroll to the field
    nameInputEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
    nameInputEl.focus();
  }

  if (errorTextEl) errorTextEl.classList.add('visible');
  if (validIconEl) validIconEl.classList.remove('visible');

  completeButton.disabled = false;
  completeButton.textContent = "Complete Assessment";
  return;
}


    localStorage.setItem('pov_student_name', studentName);

    const scores = calculateDomainScores();
    const insights = generateInsights(scores);
    const timestamp = new Date().toISOString();

    const assessmentData = {
      student_name: insights.student_name,
      assessment_date: timestamp,
      cognitive_score: scores.cognitive,
      interpersonal_score: scores.interpersonal,
      self_leadership_score: scores.self_leadership,
      digital_score: scores.digital,
      cognitive_interpretation: insights.interpretations.cognitive,
      interpersonal_interpretation: insights.interpretations.interpersonal,
      self_leadership_interpretation: insights.interpretations.self_leadership,
      digital_interpretation: insights.interpretations.digital,
      strength_patterns_paragraph: insights.strength_patterns,
      learning_style_paragraph: insights.learning_style,
      communication_paragraph: insights.communication,
      motivation_paragraph: insights.motivation,
      growth_opportunity_1: insights.growth_opportunities[0],
      growth_opportunity_2: insights.growth_opportunities[1],
      growth_opportunity_3: insights.growth_opportunities[2],
      suggestion_1: insights.suggestions[0],
      suggestion_2: insights.suggestions[1],
      suggestion_3: insights.suggestions[2],
      suggestion_4: insights.suggestions[3],
      suggestion_5: insights.suggestions[4],
      reflection_prompt_1: insights.reflection_prompts[0],
      reflection_prompt_2: insights.reflection_prompts[1],
      reflection_prompt_3: insights.reflection_prompts[2],
      total_competencies: totalCompetencies,
      completed: true
    };

    localStorage.setItem('pov_last_assessment', JSON.stringify(assessmentData));

    showResults(scores, insights);

    if (window.dataSdk) {
      window.dataSdk.create(assessmentData).catch(err => console.warn('Cloud save failed:', err));
    }

    completeButton.textContent = 'Complete Assessment';
  }, 300);
}

    function selectDeck(deckKey) {
      currentDeck = deckKey;
      availableCards = [...decks[deckKey].cards];
      
      const deckSelection = document.getElementById('deckSelection');
      const drawInterface = document.getElementById('drawInterface');
      
      deckSelection.classList.add('hidden');
      drawInterface.classList.add('active');
      
      document.getElementById('currentDeckName').textContent = decks[deckKey].name + " Deck";
      document.getElementById('currentDeckSubtitle').textContent = decks[deckKey].subtitle;
      
      const drawHeader = document.querySelector('.draw-header');
      drawHeader.className = `draw-header deck-${deckKey}`;
      
      drawInterface.className = `draw-interface active deck-${deckKey}`;
      
      updateCardsRemaining();
      
      document.getElementById('cardInner').innerHTML = '';
      document.getElementById('instructionText').textContent = 'Click "Draw Card" to reveal a random reflection prompt';
      
      const primaryBtn = document.getElementById('drawButton');
      if (primaryBtn) {
        primaryBtn.textContent = 'Draw Card';
      }
    }

    function backToSelection() {
      const deckSelection = document.getElementById('deckSelection');
      const drawInterface = document.getElementById('drawInterface');
      
      drawInterface.classList.remove('active');
      deckSelection.classList.remove('hidden');
      
      currentDeck = null;
      currentCard = null;
      isFlipped = false;
      isShuffling = false;
    }

    function drawCard() {
      if (isShuffling) return;

      if (availableCards.length === 0) {
        availableCards = [...decks[currentDeck].cards];
      }

      const randomIndex = Math.floor(Math.random() * availableCards.length);
      currentCard = availableCards[randomIndex];
      availableCards.splice(randomIndex, 1);
      
      updateCardsRemaining();
      
      isShuffling = true;
      const drawButton = document.getElementById('drawButton');
      drawButton.disabled = true;
      
      const cardInner = document.getElementById('cardInner');
      cardInner.classList.add('shuffling');
      
      setTimeout(() => {
        renderCard();
        cardInner.classList.remove('shuffling');
        isShuffling = false;
        drawButton.disabled = false;
      }, 600);
      
      document.getElementById('instructionText').textContent = 'Click the card to flip and see your reflection prompt';
      drawButton.textContent = 'Draw Another';
    }
function renderCard() {
  isFlipped = false;
  const deck = decks[currentDeck];
  const cardInner = document.getElementById('cardInner');

  cardInner.className = 'card-inner';

  // Build extra sections for the BACK only
  let extraSections = "";

  if (currentCard.whatGoodLooksLike && currentCard.whatGoodLooksLike.length) {
    extraSections += `
      <h3 class="section-heading">What good looks like</h3>
      <ul class="card-bullet-list">
        ${currentCard.whatGoodLooksLike.map(item => `<li>${item}</li>`).join('')}
      </ul>
    `;
  }

  if (currentCard.selfQuestions && currentCard.selfQuestions.length) {
    extraSections += `
      <h3 class="section-heading">Ask yourself</h3>
      <ul class="card-bullet-list">
        ${currentCard.selfQuestions.map(item => `<li>${item}</li>`).join('')}
      </ul>
    `;
  }

  

  cardInner.innerHTML = `
    <!-- FRONT: question + tags -->
    <div class="card-face card-front">
      <div class="top-section">
        <div class="icon-circle">
          <svg class="icon-svg-small" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            ${deck.iconSmall}
          </svg>
        </div>
        <p class="back-deck-label">${deck.label}</p>
      </div>
      <div class="content-panel">
        <h2 class="panel-title">${currentCard.title}</h2>
        <p class="reflection-prompt">${currentCard.prompt}</p>

        <div class="skill-tags">
          ${currentCard.tags.map(tag => `<span class="skill-tag">${tag}</span>`).join('')}
        </div>
        <p class="delta-category">DELTA: ${currentCard.delta}</p>
      </div>
    </div>

    <!-- BACK: deeper coaching / actions -->
    <div class="card-face card-back">
      <div class="top-section">
        <div class="icon-circle">
          <svg class="icon-svg-small" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            ${deck.iconSmall}
          </svg>
        </div>
        <p class="back-deck-label">${deck.label}</p>
      </div>
      <div class="content-panel">
        <h2 class="panel-title">${currentCard.title}</h2>
        ${
          extraSections
            ? extraSections
            : '<p class="reflection-prompt" style="font-size:13px;">Use this side for notes or extra reflections.</p>'
        }
      </div>
    </div>
  `;

  const cardFront = cardInner.querySelector('.card-front');
  const cardBack = cardInner.querySelector('.card-back');

  if (currentDeck === 'p') {
    cardFront.style.background = 'linear-gradient(135deg, #F5D17A 0%, #E8C45F 50%, #D4A030 100%)';
    cardBack.style.background  = 'linear-gradient(135deg, #E8B339 0%, #D4A030 50%, #C89020 100%)';
  } else if (currentDeck === 'o') {
    cardFront.style.background = 'linear-gradient(135deg, #3a3a3a 0%, #2d2d2d 50%, #1a1a1a 100%)';
    cardBack.style.background  = 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #0a0a0a 100%)';
  } else if (currentDeck === 'v') {
    cardFront.style.background = 'linear-gradient(135deg, #C5CDD9 0%, #A8B0C0 50%, #8B95A8 100%)';
    cardBack.style.background  = 'linear-gradient(135deg, #A8B0C0 0%, #8B95A8 50%, #7B8594 100%)';
  } else if (currentDeck === 'wc') {
    cardFront.style.background = 'linear-gradient(135deg, #F5D17A 0%, #D4A030 35%, #8B6914 70%, #3a3a3a 100%)';
    cardBack.style.background  = 'linear-gradient(135deg, #E8B339 0%, #8B6914 35%, #2d2d2d 70%, #0a0a0a 100%)';
  }

  cardInner.addEventListener('click', flipCard);
}


    function flipCard() {
      if (isShuffling) return;
      
      const cardInner = document.getElementById('cardInner');
      isFlipped = !isFlipped;
      if (isFlipped) {
        cardInner.classList.add('flipped');
      } else {
        cardInner.classList.remove('flipped');
      }
    }

    function updateCardsRemaining() {
      const remaining = availableCards.length;
      const total = decks[currentDeck].cards.length;
      document.getElementById('cardsRemaining').textContent = `${remaining} of ${total} cards left`;
    }
// Name field: live validation + autosave + green check
document.addEventListener('DOMContentLoaded', () => {
  const nameInput = document.getElementById('studentName');
  const errorText = document.getElementById('nameError');
  const validIcon = document.getElementById('nameValidIcon');

  if (!nameInput) return;

  nameInput.addEventListener('input', () => {
    const value = nameInput.value.trim();

    // 4Ô∏è‚É£ Auto-save name as they type
    localStorage.setItem('pov_student_name', value);

    if (value === "") {
      // show error, hide check
      if (errorText) errorText.classList.add('visible');
      if (validIcon) validIcon.classList.remove('visible');
    } else {
      // hide error, show check
      if (errorText) errorText.classList.remove('visible');
      if (validIcon) validIcon.classList.add('visible');
    }
  });
});

    // Data SDK initialization
    const dataHandler = {
      onDataChanged(data) {
        // Data is saved
      }
    };

    if (window.dataSdk) {
      window.dataSdk.init(dataHandler);
    }

    const defaultConfig = {
      app_title: "POV Reflection Cards",
      logo_url: "",
      primary_color: "#667eea",
      accent_color: "#764ba2",
      background_color: "#f8f9fa",
      text_color: "#1e1b4b",
      font_family: "Inter",
      font_size: 15
    };

    async function onConfigChange(config) {
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontSize = config.font_size || defaultConfig.font_size;
      const baseFontStack = '-apple-system, BlinkMacSystemFont, sans-serif';

      document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
      
      const selectionTitle = document.querySelector('.selection-title');
      if (selectionTitle) {
        selectionTitle.style.fontSize = `${baseFontSize * 2.13}px`;
      }
      
      const deckNames = document.querySelectorAll('.deck-name');
      deckNames.forEach(el => {
        el.style.fontSize = `${baseFontSize * 1.6}px`;
      });

      const logoImage = document.getElementById('logoImage');
      const logoUrl = config.logo_url || defaultConfig.logo_url;
      if (logoImage && logoUrl && logoUrl.trim() !== '') {
        logoImage.src = logoUrl;
        logoImage.style.display = 'block';
      } else if (logoImage) {
        logoImage.style.display = 'none';
      }
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ primary_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            if (window.elementSdk) window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            if (window.elementSdk) window.elementSdk.setConfig({ font_size: value });
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["app_title", config.app_title || defaultConfig.app_title],
        ["logo_url", config.logo_url || defaultConfig.logo_url]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
function validateNameField() {
  const nameInput = document.getElementById('studentName');
  const errorText = document.getElementById('nameError');

  if (nameInput.value.trim() === "") {
    errorText.style.display = "block";
    nameInput.style.borderColor = "#d00000";
  } else {
    errorText.style.display = "none";
    nameInput.style.borderColor = "#e5e7eb";
  }
}

  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a6aa54ca46c10de',t:'MTc2NDUwODg2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html> 
